<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html lang="en">

<head>
   <meta charset='utf-8'>
   <meta http-equiv="Content-Language" content="en">
   <meta name='viewport' content='width=device-width, initial-scale=1, user-scalable=no'>
   <meta name='mobile-web-app-capable' content='yes'>
   <meta name='apple-mobile-web-app-capable' content='yes'>

   <title>Precision 15 3581 Laptop</title>
   <style type='text/css'>
      .closeIcon {
         display: none;
      }

      html,
      body {
         user-select: none;
         /* supported by Chrome and Opera */
         -webkit-user-select: none;
         /* Safari */
         -khtml-user-select: none;
         /* Konqueror HTML */
         -moz-user-select: none;
         /* Firefox */
         -ms-user-select: none;
         /* Internet Explorer */
      }

      html,
      body {
         background-color: #f9f9f9;
         width: 100%;
         height: 100%;
         margin: 0px;
         overflow: hidden;
      }

      #root {
         display: block;
         width: 100%;

      }

      #menubar {
         position: relative;
         z-index: 11;
         top: 6px;
      }

      canvas {
         display: block;
      }

      #loader {
         position: absolute;
         left: 50%;
         top: 168px;
         transform: translate(-50%, 100%);
         z-index: 1200;
         margin-top: 136px;
         opacity: 1;
         transition: opacity 1s;
      }

      .loaderimg {
         position: absolute;
         top: 0;
         left: 0;
         width: 100%;
         height: 100%;
         display: flex;
         flex-direction: column;
         justify-content: center;
         align-items: center;
      }

      .loaderimg::after {
         content: '';
         position: absolute;
         top: 0;
         left: 0;
         width: 100%;
         height: 100%;
         background-color: #000000;
         opacity: 0.7;
      }

      .loaderimg img {
         margin-top: -190px;
      }

      @media screen and (min-width:992px) {
         .loaderimg img {
            width: 736px;
            margin-left: 232px;
            margin-top: -104px;
         }
      }

      @media screen and (min-width:1366px) {
         .loaderimg img {
            width: 963px;
            margin-left: 293px;
            margin-top: -94px;
         }
      }

      @media screen and (min-width:1440px) {
         .loaderimg img {
            width: 805px;
            margin-left: 290px;
            margin-top: -110px;
         }
      }

      @media screen and (min-width:1600px) {
         .loaderimg img {
            width: 800px;
            margin-left: 290px;
            margin-top: -110px;
         }
      }

      @media screen and (min-width:1920px) {
         .loaderimg img {
            width: 885px;
            margin-left: 292px;
            margin-top: -120px;

         }
      }

      @media screen and (min-width: 2048px) {
         .loaderimg img {
            width: 965px;
            margin-left: 160px;
            margin-top: -200px;
         }
      }

      @media screen and (min-width:2560px) {
         .loaderimg img {
            width: 1030px;
            margin-left: 292px;
            margin-top: -142px;
         }
      }

      @media screen and (max-width: 991px) {
         .loaderimg img {
            margin-top: -100px;
            margin-left: 26px;
            width: calc(100vw - 82px);
         }

      }

      @media screen and (max-width:767px) {
         .loaderimg img {
            margin-top: -65px;
            margin-left: -4px;
            width: calc(100vw - 385px);
         }

         #menubar {
            position: relative;
            z-index: 11;
            top: 6px;
         }
      }

      @media screen and (max-width:541px) {
         .loaderimg img {
            margin-top: -35px;
            margin-left: 3px;
            width: calc(100vw - 22px);
         }
      }

      #exploreButtton {
         position: absolute;
         left: 50%;
         top: 341px;
         transform: translate(-50%, 100%);
         z-index: 1200;
         cursor: pointer;
         height: 74px;
         width: 417px;
         background: #80808057;
         border-radius: 2px;
         align-items: center;
         text-align: center;
         padding: 12px;
         font-family: Roboto;
         font-style: normal;
         font-weight: normal;
         font-size: 24px;
         line-height: 36px;
         color: #FFFFFF;
         border: 0;
      }

      #loading {
         display: none;
         justify-content: center;
         position: absolute;
         left: 50%;
         top: 57%;
         transform: translate(-50%, -280%);
         width: 265px;
         height: 120px;
         color: #ffffff;
      }

      #loading>div {
         text-align: center;
         font-family: Roboto;
         font-style: normal;
         font-weight: 300;
         font-size: 40px;
         line-height: 48px;
      }

      #mainload {
         /* display: none; */
         visibility: hidden;
         opacity: 0;
         position: absolute;
         left: 0;
         top: 0;
         width: 100%;
         height: 100vh;
         background-color: #ffffff;
         z-index: 11;
      }

      #Scalable {
         transform: scale(0.6);
         width: 100%;
         height: 100vh;
      }

      .MuiPaper-root.MuiDrawer-paper.makeStyles-drawerPaper-2.MuiDrawer-paperAnchorLeft.MuiDrawer-paperAnchorDockedLeft.MuiPaper-elevation0 {
         min-width: 285px !important;
         z-index: 111;
      }

      .MuiPaper-root.MuiDrawer-paper.jss2.MuiDrawer-paperAnchorLeft.MuiDrawer-paperAnchorDockedLeft.MuiPaper-elevation0 {
         min-width: 285px !important;
         z-index: 111;
      }

      .mobile {
         display: none;
      }

      #loader {
         width: 938px;
         height: 5px;
      }

      .hotspots {
         display: block;
         position: absolute;
         z-index: 5;
      }

      #hotspot1demo:focus {
         outline: none;
         border: none;
      }

      #loading:focus {
         outline: none;
         border: none;
      }

      /* .hotspots:focus {
       outline: 1px solid #0076ce;
   } */

      @media screen and (min-width: 640px) and (max-width: 824px) and (orientation : landscape) {

         #loading {
            display: none;
            justify-content: center;
            position: absolute;
            left: 50%;
            top: 70%;
            transform: translate(-50%, -280%);
            width: 265px;
            height: 120px;
         }
      }

      @media screen and (max-width: 600px) {
         #root {
            z-index: 1;
            /* position: absolute; 
       top: 92.5%; 
       left: 0px; */
            display: block;
            width: 100%;
         }

         .desktop {
            display: none;
         }

         .mobile {
            display: block;
         }

         div#loading {
            display: flex;
            flex-wrap: wrap;
            left: 50%;
            top: 42%;
            transform: translate(-50%, -240%);
            min-width: 350px;
         }

         #loaders {
            width: 379px;
            height: 5px;
            top: 465px;
         }

         #loading>div>.img {
            margin-top: 44px;
            margin-left: 40px;
            height: 69px;
            width: 164px;
         }

         #loading>div {
            margin: 0;
            font-weight: normal;
            font-size: 24px;
            line-height: 36px;
            text-align: left;

         }

         #exploreButtton {
            position: absolute;
            left: 50%;
            top: 473px;
            transform: translate(-50%, 100%);
            z-index: 1200;
            cursor: pointer;
            height: 74px;
            width: 379px;
            background: #80808057;
            border-radius: 2px;
            align-items: center;
            text-align: center;
            padding: 12px;
            font-family: Roboto;
            font-style: normal;
            font-weight: normal;
            font-size: 24px;
            line-height: 36px;
            color: #FFFFFF;
            border: 0;
         }
      }

      @media screen and (max-width: 390px) {
         #exploreButtton {
            position: absolute;
            left: 50%;
            top: 473px;
            top: 465px;
            transform: translate(-50%, 100%);
            z-index: 1200;
            cursor: pointer;
            height: 74px;
            width: 330px;
            background: #80808057;
            border-radius: 2px;
            align-items: center;
            text-align: center;
            padding: 12px;
            font-family: Roboto;
            font-style: normal;
            font-weight: normal;
            font-size: 24px;
            line-height: 31px;
            color: #FFFFFF;
            border: 0;
         }

         #loaders {
            width: 330px;
            height: 37px;
            top: 440px;
         }

         #loading>div>img {
            margin-left: 40px !important;

         }

         .threebtns>div {
            display: flex !important;
            justify-content: center;
            max-width: 360px;
         }

      }



      #infinityrt-canvas {
         transition: margin 1s;
      }
   </style>
   <link rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,300;0,400;0,500;0,700;1,300&display=swap" />

   <!-- <script src='jquery-1.8.2.min.js' type='text/javascript'></script> -->
   <script type="text/javascript" src='normalizeWheel.js'></script>
   <script src='libvector3.js' type='text/javascript'></script>
   <script src='SSE.js' type='text/javascript'></script>
   <script src="InfinityRT_Navigation.js" type="text/javascript"></script>
   <!-- <script type="text/javascript" src="skin.js"></script> -->
   <script type="text/javascript" src="rt-Analytics.js"></script>
   <script type="text/javascript" src="https://content.hmxmedia.com/DIST/webglutils.js"></script>
   <script type="text/javascript" src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
   <script type="text/javascript">

      var animationLoading,_scenePollInterval,timeStart,loaderbarWidth = 0;
      var updateEnabled = true;
      var canvas = null;
      var calloutcanvas = null;
      var scene = null;
      ctxCallouts = null;
      var checkOrientationStatus = null;
      window.canvasLandscapeMarginTop = false;
      var anim;
      var _calloutPlacement = 0;

      var isipad = (/CriOS/i.test(navigator.userAgent) && /ipad/i.test(navigator.userAgent)) || (navigator.userAgent.indexOf('iPad') != -1) || (navigator.userAgent.match(/Mac/) && navigator.maxTouchPoints && navigator.maxTouchPoints > 2);

      var mob = (navigator.userAgent.indexOf("iPhone") != -1) || ((navigator.userAgent.indexOf("Android") != -1)) || (navigator.userAgent.indexOf('iPod') != -1) || (navigator.userAgent == "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.1 Safari/605.1.15") || (navigator.userAgent == "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_6) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.6,2 Safari/605.1.15");
      function InfinityRTStart() {

         if (mob || isipad) {
            var urlDataPath = './model_gl_mob/';
         } else {
            var urlDataPath = './model_gl/';
         }


         timeStart = new Date().getTime();
         touch = new Vector3();
         touches = [new Vector3(),new Vector3(),new Vector3()]; InfinityRTStart
         prevTouches = [new Vector3(),new Vector3(),new Vector3()];
         var loaderDiv = document.getElementById('loader');

         var loaderDivs = document.getElementById('loaders');
         var loadingDiv = document.getElementById('loading');
         var exploreBtn = document.getElementById('exploreButtton');
         var mainLoad = document.getElementById('mainload');

         loaderDiv.style.display = 'block';
         loaderDivs.style.display = 'block';

         loadingDiv.style.display = 'flex';
         // mainLoad.style.display = 'block';

         setTimeout(() => {
            // mainLoad.style.display = 'block';
            document.getElementById('mainload').style.visibility = "visible";
            document.getElementById('mainload').style.opacity = "1";
            // document.getElementById('mainload').style.transition = "visibility 0s, opacity 0.5s linear";
            document.getElementById('footerControlDesk').style.display = 'block';
            document.getElementById('footerControMob').style.display = 'block';

            // document.querySelector('#menubar').style.display = "none";

         },0);
         // if(!(mob || isipad)){
         //    console.log("**")
         //    document.querySelector('.openCloseBtn').style.display = "none";
         // }
         exploreBtn.style.backgroundColor = "#80808057";
         // $("#loader").css("left", ((document.documentElement.clientWidth / 2) - (265 / 2)) + "px");
         // $("#loader").css("top", ((document.documentElement.clientHeight / 2) - (12 / 2)) + "px");
         // $("#loader").css('display', 'block');
         animationLoading = setInterval(function () {
            loaderbarWidth++;
            if (loaderbarWidth > 50) loaderbarWidth = 50;
            document.getElementById('loaderbar').style.width = loaderbarWidth + "px"
         },100);
         try {
            canvas = document.getElementById("infinityrt-canvas");
            calloutcanvas = document.getElementById("calloutcanvas");

            ui = document.getElementById("root");
            uifooterControMob = document.querySelector(".footerControMob");
            uifooterControlDesk = document.querySelector(".footerControlDesk");

            if (typeof (canvas) != 'undefined') {
               var gl = infinityrt_getwebglcontextHMX(canvas,{ xrCompatible: true,antialias: true,depth: true });
               if (!gl) {
                  alert("***Could not initialise WebGL canvas");
               }
               else {
                  scene = new infinityrt_scene({ rtgl: gl,useDraco: false },urlDataPath,canvas.width,canvas.height,undefined,undefined,undefined,function () { },function () { });
                  scene._nav = new infinityrt_navigation(scene,canvas.width,canvas.height);
                  scene._jitRadius = 2;
                  scene.gotoPosInTime(0.998110,-0.032676,1.520975,5.866925,72.177856,1,undefined,undefined,{ fovy: 37.849300,zang: -0.003371 })
                  //scene.fovy = 37.849285;
                  resizeCanvas2();
                  scene.start();
                  _scenePollInterval = setInterval("isInfinityRTReady()",100);
                  addMouseListeners(canvas);
                  addMouseListeners(ui);
                  addMouseListeners(uifooterControMob);
                  addMouseListeners(uifooterControlDesk);

                  window.addEventListener('keypress',keyPress,false);
               }
            }
         }
         catch (e) {
            // console.log(e);
         }
         if (scene != null) {
            window.requestAnimationFrame(frameUpdate);
            // $(this).bind("contextmenu", onRightClick); //prevents a right click     
            document.body.oncontextmenu = onRightClick;
            if (typeof (onInit) != 'undefined') onInit();
         }
      }
      function onRightClick(event) {
         //console.log("press right");
         //mdown = true;
         //panNav = true;
         return false; //surpress theright menu 
      }
      function isInfinityRTReady() {
         if (scene == null)
            return;
         scene.start();
         outstandingJobs = scene.getOutstandingJobs();
         if (outstandingJobs <= 0 && scene._prepared) {
            onInfinityRTReady();
            clearInterval(_scenePollInterval);
         } else if (scene._projectparsed) {
            clearInterval(animationLoading);
            updateProgressBar();
         }
      }

      function updateProgressBar() {
         if (scene == null)
            return;
         totalJobs = scene.getTotalJobs();
         outstandingJobs = scene.getOutstandingJobs();
         var perc = 100 - Math.round(outstandingJobs / totalJobs * 100);
         var newwidth = 948 * perc / 100;
         var newwidth = 948 * perc / 100;
         if (mob) {
            newwidth = 386 * perc / 100;
            document.querySelector('.mobile #loaderbar').style.width = newwidth + "px";
         }
         if (window.innerWidth < 411) {
            newwidth = 334 * perc / 100;
            document.querySelector('.mobile #loaderbar').style.width = newwidth + "px";
         }
         else {

            document.getElementById('loaderbar').style.width = newwidth + "px";
         }

      }
      var config = {
         name: "precision-15-3581-laptop",
         default: "Render_Cam_F50_FL",
         front: "Render_Cam_F26_JD",
         top: "Render_Cam_F34_Top",
         right: "Render_Cam_F26_R",
         left: "Render_Cam_F26_L",
         // back: "Render_Cam_F22_Rear",
         back: "Render_Cam_F25_Rear",
         internals: "DE_1539_CA_Cinnamon_Bay_16_inch",
         backlit: "Render_Cam_F34_Top",
         fpr: "Render_Cam_F34_Top",
         close: "Render_Cam_F1_Close",
         exploded: "Render_Cam_F75_Explode"
      }
      var hideIndexId = ["colorBtn","selectProductBtn","closeIcon","productViewBtn","feature","animswtich","positionBtn","rLeft","rRight","zoomOut","sliderRange","previousView","zoomIn","resetView","nextView","HowToUseHeader"];

      var time = (new Date().getTime() - timeStart);
      function onInfinityRTReady() {
         if (time < 60000) {
            RT_RecordTiming("Load",time,config.name);
         }

         document.getElementById("loading").focus();
         setTimeout(function () {
            document.getElementById("loading").removeAttribute("tabIndex");
         },3000);
         document.getElementById('loader').style.opacity = '0';
         document.getElementById('loaders').style.opacity = '0';
         document.getElementById('root').style.display = "block"
         document.getElementById('root').style.visibility = "visible"
         document.getElementById('footerControIpad').style.visibility = "visible"
         document.getElementById('footerControMob').style.visibility = "visible"
         document.getElementById('footerControlDesk').style.visibility = "visible"
         // if(!(mob || isipad)){
         //    console.log("**")
         //    document.querySelector('.openCloseBtn').style.display = "none";
         // }
         // setTimeout(() => {
         //    document.querySelector('#menubar').style.display = 'block';
         // }, 100);


         document.getElementById('loading').style.display = 'flex';
         // document.getElementById('mainload').style.display = 'block';
         document.getElementById('loaderbar').style.width = '100%';
         document.getElementById('exploreButtton').disabled = false;
         document.getElementById('exploreButtton').style.backgroundColor = '#0076CE';
         document.querySelector('.mobile #exploreButtton').disabled = false;
         document.querySelector('.mobile #exploreButtton').style.backgroundColor = '#0076CE';
         // $("#reset", window.document).css('display', 'none');
         console.log('End time: ' + (new Date().getTime() - timeStart));
         // window.localStorage.removeItem('Animation');
         window.hotspot = " "
         GotoPosInTimeNamedValue(config.default);
         // window.localStorage.setItem('Animation','on');
         window.anim = 'on';
         // window.localStorage.setItem("laptop","laptop360");
         // document.getElementById("animSwitchValue").checked = true;
         if (!(window.mob)) {
            if (document.getElementById("animSwitchValue1") != null) {
               document.getElementById("animSwitchValue1").checked = true;
            }
         }

         window.scene.groupApplyState("With_SC_CARD");
         // window.scene.groupApplyState("Internal_OFF");

         if (!(mob || isipad)) {
            hideHotspot();
            document.getElementById("hotspot1").setAttribute("tabindex","-1");
            document.getElementById("hotspot2").setAttribute("tabindex","-1");
            document.getElementById("hotspot3").setAttribute("tabindex","-1");
            document.getElementById("hotspot4").setAttribute("tabindex","-1");
            document.getElementById("hotspot5").setAttribute("tabindex","-1");
            document.getElementById("hotspot6").setAttribute("tabindex","-1");
            document.getElementById("hotspot7").setAttribute("tabindex","-1");
            document.getElementById("hotspot8").setAttribute("tabindex","-1");
            document.getElementById("hotspot9").setAttribute("tabindex","-1");
            document.getElementById("hotspot10").setAttribute("tabindex","-1");
            document.getElementById("hotspot11").setAttribute("tabindex","-1");
            document.getElementById("hotspot12").setAttribute("tabindex","-1");
            document.getElementById("hotspot13").setAttribute("tabindex","-1");
            document.getElementById("hotspot14").setAttribute("tabindex","-1");
            document.getElementById("hotspot15").setAttribute("tabindex","-1");
            document.getElementById("hotspot16").setAttribute("tabindex","-1");
            document.getElementById("hotspot17").setAttribute("tabindex","-1");
            document.getElementById("hotspot18").setAttribute("tabindex","-1");
            document.getElementById("hotspot19").setAttribute("tabindex","-1");
            document.getElementById("hotspot20").setAttribute("tabindex","-1");
            document.getElementById("hotspot21").setAttribute("tabindex","-1");
            document.getElementById("hotspot22").setAttribute("tabindex","-1");
            document.getElementById("hotspot23").setAttribute("tabindex","-1");
            document.getElementById("hotspot24").setAttribute("tabindex","-1");
            document.getElementById("hotspot25").setAttribute("tabindex","-1");
            document.getElementById("hotspot26").setAttribute("tabindex","-1");
            document.getElementById("hotspot27").setAttribute("tabindex","-1");
            if (document.getElementById('LeftMenuWrapper') != null) {
               window.document.getElementById("LeftMenuWrapper").setAttribute("tabindex","-1");
            }

            // setTimeout(function () {
            //    hideTabIndexes();
            // }, 400);

         }
      }
      function hideHotspot() {
         document.getElementById("hotspot1demo").style.color = "transparent"
         document.getElementById("hotspot1").style.color = "transparent"
         document.getElementById("hotspot2").style.color = "transparent"
         document.getElementById("hotspot3").style.color = "transparent"
         document.getElementById("hotspot4").style.color = "transparent"
         document.getElementById("hotspot5").style.color = "transparent"
         document.getElementById("hotspot6").style.color = "transparent"
         document.getElementById("hotspot7").style.color = "transparent"
         document.getElementById("hotspot8").style.color = "transparent"
         document.getElementById("hotspot9").style.color = "transparent"
         document.getElementById("hotspot10").style.color = "transparent"
         document.getElementById("hotspot11").style.color = "transparent"
         document.getElementById("hotspot12").style.color = "transparent"
         document.getElementById("hotspot13").style.color = "transparent"
         document.getElementById("hotspot14").style.color = "transparent"
         document.getElementById("hotspot15").style.color = "transparent"
         document.getElementById("hotspot16").style.color = "transparent"
         document.getElementById("hotspot17").style.color = "transparent"
         document.getElementById("hotspot18").style.color = "transparent"
         document.getElementById("hotspot19").style.color = "transparent"
         document.getElementById("hotspot20").style.color = "transparent"
         document.getElementById("hotspot21").style.color = "transparent"
         document.getElementById("hotspot22").style.color = "transparent"
         document.getElementById("hotspot23").style.color = "transparent"
         document.getElementById("hotspot24").style.color = "transparent"
         document.getElementById("hotspot25").style.color = "transparent"
         document.getElementById("hotspot26").style.color = "transparent"
         document.getElementById("hotspot27").style.color = "transparent"


      }

      function hideTabIndexes() {
         for (let i = 0; i < hideIndexId.length; i++) {
            if (window.document.getElementById(hideIndexId[i])) {
               window.document.getElementById(hideIndexId[i]).setAttribute("tabindex","-1");
            }
         }

      }
      function addMouseListeners(canvas) {
         canvas.addEventListener('mousemove',mouseMove,false);
         canvas.addEventListener('mousedown',mouseDown,false);
         window.addEventListener('mouseup',mouseUp,false);
         canvas.addEventListener('wheel',mouseWheel,false);
         canvas.addEventListener('DOMMouseScroll',mouseWheel,false);
         canvas.addEventListener('touchstart',touchStart,false);
         canvas.addEventListener('touchmove',touchMove,false);
         canvas.addEventListener('touchend',touchEnd,false);
         canvas.addEventListener('mouseout',mouseOut);
      }
      var sceneViewMatrix;
      function frameUpdate() {

         // if (btnXR && btnXR.session && btnXR.session.isImmersive)
         //     return;
         setTimeout(function () {
            window.requestAnimationFrame(frameUpdate);
         },scene.backoff);
         sceneViewMatrix = scene._nav.NavCreateViewMatrix(scene._initialNavMatrix);
         scene.setViewMatrix(sceneViewMatrix);
         if (scene._refineCount < 64) frameUpdateForScene(scene);

      }
      function frameUpdateForScene(scene) {
         var bGotoPosUpdate = scene._nav._navGotoPosActive;
         scene.setViewMatrix(scene._nav.NavCreateViewMatrix(scene._initialNavMatrix));
         scene.setModelMatrix(scene._nav.NavCreateModelMatrix(scene._initialNavMatrix));
         var drawn = scene.draw();
         if (drawn) hotspotPosAsignment();
         if (bGotoPosUpdate)
            scene.clearRefine();

         if (!mob) {
            // setTimeout(function(){ document.getElementById("sliderRange").value = parseInt(60+100-window.scene._nav._navDolly); }, 500);
         }

         // if (scene._nav._navDolly < 65) {
         //    scene._bDoF = true;
         // }
         // else {
         //    scene._bDoF = false;
         // }
      }
      window.addEventListener('resize',resizeCanvas2,false);

      // function resizeCanvas2() {




      //    var leftMenu = document.getElementById('mainMenu');
      //    var size = scene.get3DCanvasSize("infinityrt-canvas",window.innerWidth,window.innerHeight);
      //    var menu = document.querySelector('#LeftMenuWrapper div');
      //    //calloutcanvas = document.getElementById('calloutcanvas');
      //    var dpr = window.devicePixelRatio;
      //    var dprccs = 1.0 / dpr;
      //    if (canvas != null) {
      //       if (isipad) {

      //          console.log("ipad")
      //          var reslimit = { w: 1920,h: 1080 };
      //          if (scene && scene._glVersionNum > 1) reslimit = { w: 3840,h: 2160 };
      //          var w = window.innerWidth * dpr; //canvas.parentElement.offsetWidth * dpr;
      //          var h = window.innerHeight * dpr; //canvas.parentElement.offsetHeight * dpr;

      //          if (window.innerHeight > window.innerWidth) {
      //             console.log("ipad Portrait")
      //             h = window.innerHeight * 1 * dpr; //canvas.parentElement.offsetHeight * dpr;
      //             if (w > reslimit.w || h > reslimit.h) {
      //                var scale = Math.min(reslimit.w / w,reslimit.h / h);
      //                w *= scale;
      //                h *= scale;
      //                dprccs /= scale;
      //             }
      //             canvas.width = w;
      //             canvas.height = h;
      //             canvas.style.marginLeft = "";
      //             calloutcanvas.style.marginLeft = "";
      //             calloutcanvas.width = canvas.width;
      //             calloutcanvas.height = canvas.height;
      //             if (scene != null) {
      //                scene._nav.canvasResize(canvas.width,canvas.height);
      //                scene.resize(canvas.width,canvas.height);
      //                scene._nav.canvasResize(calloutcanvas.width,calloutcanvas.height);
      //                scene.resize(calloutcanvas.width,calloutcanvas.height);
      //             }
      //             window.checkOrientationStatus(true);
      //             $("#infinityrt-canvas, #calloutcanvas").css({
      //                marginLeft: ''
      //             })
      //          }
      //          else if (window.innerHeight < window.innerWidth) {
      //             console.log("ipad Landscape")
      //             window.checkOrientationStatus(false);

      //             if (window.innerWidth < 991) {
      //                var marginVal = "50"
      //             } else {
      //                var marginVal = "170";
      //             }

      //             // var marginVal = "170";
      //             calloutcanvas.width = canvas.width = size.width - marginVal;
      //             calloutcanvas.height = canvas.height = size.height;
      //             calloutcanvas.style.marginLeft = canvas.style.marginLeft = marginVal + 'px';
      //             if (window.innerWidth > window.innerHeight) {
      //                var scalePopup = ((window.innerWidth / window.innerHeight) - window.devicePixelRatio);
      //                if (scalePopup < 0.5) scalePopup = 0.5;
      //                if (scalePopup > 1) scalePopup = 1;
      //             }
      //             if (scene != null) {
      //                scene._nav.canvasResize(canvas.width,canvas.height);
      //                scene.resize(canvas.width,canvas.height);
      //                scene._nav.canvasResize(calloutcanvas.width,calloutcanvas.height);
      //                scene.resize(calloutcanvas.width,calloutcanvas.height);
      //             }
      //          }

      //          /* $("#infinityrt-canvas, #calloutcanvas").css({
      //             'transform': 'scale(' + dprccs + ')',
      //             'transform-origin': '0% 0%',
      //             '-webkit-transform': 'scale(' + dprccs + ')',
      //             '-webkit-transform-origin': '0% 0%',
      //             '-moz-transform': 'scale(' + dprccs + ')',
      //             '-moz-transform-origin': '0% 0%',
      //             '-o-transform': 'scale(' + dprccs + ')',
      //             '-o-transform-origin': '0% 0%',
      //             '-ms-transform': 'scale(' + dprccs + ')',
      //             '-ms-transform-origin': '0% 0%',
      //          }); */
      //       }
      //       else if (window.innerWidth < 991) {
      //          console.log('mobile');
      //          // scene.setProjectionOffset(40,65);

      //          var reslimit = { w: 1920,h: 1080 };
      //          if (scene && scene._glVersionNum > 1) reslimit = { w: 3840,h: 2160 };
      //          var w = window.innerWidth * dpr;//canvas.parentElement.offsetWidth * dpr;
      //          var h = window.innerHeight * dpr;//canvas.parentElement.offsetHeight * dpr;


      //          if (window.innerHeight < window.innerWidth) {
      //             console.log('mobile landscap');

      //             if (w > reslimit.w || h > reslimit.h) {
      //                var scale = Math.min(reslimit.w / w,reslimit.h / h);
      //                w *= scale;
      //                h *= scale;
      //                dprccs /= scale;
      //             }
      //             canvas.width = w;
      //             canvas.height = h;
      //             calloutcanvas.width = canvas.width;
      //             calloutcanvas.height = canvas.height;
      //             // $("#infinityrt-canvas, #calloutcanvas").css({
      //             //    // marginLeft: '',
      //             //    marginTop: ''
      //             // })
      //             document.getElementById("footerControMob").style.position = "absolute";
      //             if (window.canvasLandscapeMarginTop) {
      //                // console.log("check)))")
      //                // document.getElementById("footerControMob").style.display = "block";
      //                calloutcanvas.style.marginTop = canvas.style.marginTop = "0px";

      //             }
      //          }
      //          else {
      //             console.log('mobile potrait');
      //             var marginVal = "0"
      //             calloutcanvas.width = canvas.width = size.width - marginVal;
      //             calloutcanvas.height = canvas.height = size.height;
      //             calloutcanvas.style.marginLeft = canvas.style.marginLeft = marginVal + 'px';

      //             h = window.innerHeight * 1 * dpr;//canvas.parentElement.offsetHeight * dpr;
      //             if (w > reslimit.w || h > reslimit.h) {
      //                var scale = Math.min(reslimit.w / w,reslimit.h / h);
      //                w *= scale;
      //                h *= scale;
      //                dprccs /= scale;
      //             }
      //             canvas.width = w;
      //             canvas.height = h;
      //             calloutcanvas.width = canvas.width;
      //             calloutcanvas.height = canvas.height;
      //             // document.getElementById("footerControMob").style.position = "static";
      //             if (window.canvasLandscapeMarginTop) {
      //                // console.log("check++")
      //                calloutcanvas.style.marginTop = canvas.style.marginTop = "-150px",
      //                   document.getElementById("footerControMob").style.display = "none";

      //             }

      //          }

      //          if (scene != null) {
      //             scene._nav.canvasResize(canvas.width,canvas.height);
      //             scene.resize(canvas.width,canvas.height);
      //             scene._nav.canvasResize(calloutcanvas.width,calloutcanvas.height);
      //             scene.resize(calloutcanvas.width,calloutcanvas.height);
      //          }



      //          //   document.getElementById('popupContainer').style.display = 'none';
      //          /* $("#infinityrt-canvas, #calloutcanvas").css({
      //             'transform': 'scale(' + dprccs + ')',
      //             'transform-origin': '0% 0%',
      //             '-webkit-transform': 'scale(' + dprccs + ')',
      //             '-webkit-transform-origin': '0% 0%',
      //             '-moz-transform': 'scale(' + dprccs + ')',
      //             '-moz-transform-origin': '0% 0%',
      //             '-o-transform': 'scale(' + dprccs + ')',
      //             '-o-transform-origin': '0% 0%',
      //             '-ms-transform': 'scale(' + dprccs + ')',
      //             '-ms-transform-origin': '0% 0%',
      //             'margin-left': ''
      //          }); */
      //          window.checkOrientationStatus(false);

      //       }
      //       else {
      //          //console.log("desktop")

      //          var marginVal = "285"
      //          calloutcanvas.width = canvas.width = size.width - marginVal;
      //          calloutcanvas.height = canvas.height = size.height;
      //          calloutcanvas.style.marginLeft = canvas.style.marginLeft = marginVal + 'px';
      //          if (window.innerWidth > window.innerHeight) {
      //             var scalePopup = ((window.innerWidth / window.innerHeight) - window.devicePixelRatio);
      //             if (scalePopup < 0.5) scalePopup = 0.5;
      //             if (scalePopup > 1) scalePopup = 1;
      //          }
      //          if (scene != null) {
      //             scene._nav.canvasResize(canvas.width,canvas.height);
      //             scene.resize(canvas.width,canvas.height);
      //             scene._nav.canvasResize(calloutcanvas.width,calloutcanvas.height);
      //             scene.resize(calloutcanvas.width,calloutcanvas.height);
      //          }
      //          /* $("#infinityrt-canvas, #calloutcanvas").css({
      //             'transform': 'scale(' + dprccs + ')',
      //             'transform-origin': '0% 0%',
      //             '-webkit-transform': 'scale(' + dprccs + ')',
      //             '-webkit-transform-origin': '0% 0%',
      //             '-moz-transform': 'scale(' + dprccs + ')',
      //             '-moz-transform-origin': '0% 0%',
      //             '-o-transform': 'scale(' + dprccs + ')',
      //             '-o-transform-origin': '0% 0%',
      //             '-ms-transform': 'scale(' + dprccs + ')',
      //             '-ms-transform-origin': '0% 0%',
      //          }); */
      //          window.checkOrientationStatus(false);

      //       }

      //       $("#infinityrt-canvas, #calloutcanvas").css({
      //          'transform': 'scale(' + dprccs + ')',
      //          'transform-origin': '0% 0%',
      //          '-webkit-transform': 'scale(' + dprccs + ')',
      //          '-webkit-transform-origin': '0% 0%',
      //          '-moz-transform': 'scale(' + dprccs + ')',
      //          '-moz-transform-origin': '0% 0%',
      //          '-o-transform': 'scale(' + dprccs + ')',
      //          '-o-transform-origin': '0% 0%',
      //          '-ms-transform': 'scale(' + dprccs + ')',
      //          '-ms-transform-origin': '0% 0%',
      //       });
      //    }
      // }
      function resizeCanvas2() {
         document.getElementById("mainMenu");
         var t = scene.get3DCanvasSize("infinityrt-canvas",window.innerWidth,window.innerHeight)
            ,e = document.querySelector("#LeftMenuWrapper div")
            ,o = window.devicePixelRatio
            ,n = 1 / o
            ,l = document.getElementById("footerControlDesk");
         if ("hidden" == l.style.visibility && (l.style.display = "hidden"),
            "visible" == l.style.visibility && (l.style.display = "visible"),
            null != canvas) {
            if (mob) {
               // console.log("mobile");
               var a = {
                  w: 1920,
                  h: 1080
               };
               scene && scene._glVersionNum > 1 && (a = {
                  w: 3840,
                  h: 2160
               });
               var i = window.innerWidth * o
                  ,r = window.innerHeight * o;
               if (window.innerHeight < window.innerWidth || screen.height < screen.width) {
                  if (console.log("mobile landscap"),
                     i > a.w || r > a.h)
                     i *= s = Math.min(a.w / i,a.h / r),
                        r *= s,
                        n /= s;
                  canvas.width = i,
                     canvas.height = r,
                     calloutcanvas.width = canvas.width,
                     calloutcanvas.height = canvas.height,
                     document.getElementById("root") && (document.getElementById("root").style.zIndex = "1"),
                     $("#infinityrt-canvas, #calloutcanvas").css({
                        marginTop: ""
                     })
                  //    if (window.canvasLandscapeMarginTop) {
                  //    console.log("check)))")
                  //    // document.getElementById("footerControMob").style.display = "block";

                  // }
                  calloutcanvas.style.marginTop = canvas.style.marginTop = "0px";

               }
               else {
                  if (console.log("mobile potrait"),
                     r = 1 * window.innerHeight * o,
                     i > a.w || r > a.h)
                     i *= s = Math.min(a.w / i,a.h / r),
                        r *= s,
                        n /= s;
                  canvas.width = i,
                     canvas.height = r,
                     calloutcanvas.width = canvas.width,
                     calloutcanvas.height = canvas.height
               }
               null != scene && (scene._nav.canvasResize(canvas.width,canvas.height),
                  scene.resize(canvas.width,canvas.height)),
                  window.checkOrientationStatus(!1)
            }
            else if (isipad) {
               // console.log("ipad");
               a = {
                  w: 1920,
                  h: 1080
               };
               scene && scene._glVersionNum > 1 && (a = {
                  w: 3840,
                  h: 2160
               });
               i = window.innerWidth * o,
                  r = window.innerHeight * o;
               if (window.innerHeight > window.innerWidth) {
                  var s;
                  if (r = 1 * window.innerHeight * o,
                     i > a.w || r > a.h)
                     i *= s = Math.min(a.w / i,a.h / r),
                        r *= s,
                        n /= s;
                  canvas.width = i,
                     canvas.height = r,
                     canvas.style.marginLeft = "175",
                     calloutcanvas.style.marginLeft = "175",
                     calloutcanvas.width = canvas.width,
                     calloutcanvas.height = canvas.height,
                     null != scene && (scene._nav.canvasResize(canvas.width,canvas.height),
                        scene.resize(canvas.width,canvas.height)),
                     window.checkOrientationStatus(!0),
                     $("#infinityrt-canvas, #calloutcanvas").css({
                        marginLeft: ""
                     })
               }
               else if (window.innerHeight < window.innerWidth) {
                  window.checkOrientationStatus(!1);
                  var c = "175";
                  if (calloutcanvas.width = canvas.width = t.width - c,
                     calloutcanvas.height = canvas.height = t.height,
                     calloutcanvas.style.marginLeft = canvas.style.marginLeft = c + "px",
                     window.innerWidth > window.innerHeight)
                     (d = window.innerWidth / window.innerHeight - window.devicePixelRatio) < .5 && (d = .5),
                        d > 1 && (d = 1);
                  null != scene && (scene._nav.canvasResize(canvas.width,canvas.height),
                     scene.resize(canvas.width,canvas.height))
               }
            }
            else {
               // console.log("desktop");
               var d;
               c = "285"
               if (calloutcanvas.width = canvas.width = t.width - c,
                  calloutcanvas.height = canvas.height = t.height,
                  calloutcanvas.style.marginLeft = canvas.style.marginLeft = c + "px",

                  window.innerWidth > window.innerHeight)
                  (d = window.innerWidth / window.innerHeight - window.devicePixelRatio) < .5 && (d = .5),
                     d > 1 && (d = 1);
               if (window.devicePixelRatio == 2) {
                  console.log('marginVal',c)
                  _calloutPlacement = -c;
                  scene.setProjectionOffset(-c,0)
               }
               null != scene && (scene._nav.canvasResize(canvas.width,canvas.height),
                  scene.resize(canvas.width,canvas.height)),
                  window.checkOrientationStatus(!1)
            }
            $("#infinityrt-canvas, #calloutcanvas").css({
               transform: "scale(" + n + ")",
               "transform-origin": "0% 0%",
               "-webkit-transform": "scale(" + n + ")",
               "-webkit-transform-origin": "0% 0%",
               "-moz-transform": "scale(" + n + ")",
               "-moz-transform-origin": "0% 0%",
               "-o-transform": "scale(" + n + ")",
               "-o-transform-origin": "0% 0%",
               "-ms-transform": "scale(" + n + ")",
               "-ms-transform-origin": "0% 0%"
            })
         }
      }



      function GotoPosInTimeNamedValue(gotoposname,onComplete,onSample) {

         var opt = undefined,
            gp = jsonobject.positions[gotoposname];
         //    console.log(gp)
         if (gp.fovy && scene.fovy != gp.fovy)
            opt = {
               fovy: gp.fovy
            };
         if (gp.pos.length > 5) {
            if (!opt)
               opt = {};
            opt.zang = gp.pos[5];
         }
         // if (isipad && window.innerWidth < window.innerHeight) {

         //    scene.gotoPosInTime(gp.pos[0],gp.pos[1],gp.pos[2],gp.pos[3],gp.pos[4] + 30,gp.time,onComplete,onSample,opt);
         // } else {
         //    scene.gotoPosInTime(gp.pos[0],gp.pos[1],gp.pos[2],gp.pos[3],gp.pos[4],gp.time,onComplete,onSample,opt);
         // }
         if (isipad) {
            window.scene.gotoPosInTime(gp.pos[0],gp.pos[1],gp.pos[2],gp.pos[3],gp.pos[4] + 13,gp.time,onComplete,onSample,opt);
         } else {
            window.scene.gotoPosInTime(gp.pos[0],gp.pos[1],gp.pos[2],gp.pos[3],gp.pos[4],gp.time,onComplete,onSample,opt);
         }

      }



      var jsonobject;
      var firstTime = false;
      function getCameraValues(uijson) {
         var jsonhttp = new XMLHttpRequest();
         jsonhttp.skin = this;
         jsonhttp.open("GET",uijson,true);
         jsonhttp.onload = function (e) {
            if (jsonhttp.status >= 200 && jsonhttp.status <= 299) {
               var s = jsonhttp.skin;
               jsonobject = JSON.parse(jsonhttp.response);
               //s.createUI();
            }
         };
         jsonhttp.send("");
      }
      window.addEventListener('DOMContentLoaded',function () {
         getCameraValues("./model_gl/config.json");
      });

      function keyPress(ev) {
         if (ev.keyCode === 0) {
            ev.preventDefault()
            scene._nav._navDX = scene._nav._navDY = 0;
            scene._nav._navMX = scene._nav._navMY = 0;
            scene._nav._navXAng = scene._nav._navYAng = 0;
            scene._nav._navDolly = 0.0;
            scene._nav._navPan = [0.0,0.0];
            scene.clearRefine();
         }
      }
      function getScene(ev) {
         return scene;
      }
      var mpos = [0,0];
      var mdown = false;
      var panNav = false;
      function mouseDown(ev) {
         hideTabIndexes();
         // console.log('mouseDown');
         // console.log(ev.path)
         // var hotspotContainer = document.getElementById('hotspot_container');
         // if (hotspotContainer.style.display == "block" || hotspotContainer.style.display == "") {
         //    hotspotContainer.style.display = "none"
         // }
         for (i in ev.path) {
            if (ev.path[i].id == "leftPan" || ev.path[i].id == 'footerControls') return;
            // console.log(ev.path[i].id)

         }
         var tabIndexDiv = document.getElementsByClassName("hotspots")
         for (x of tabIndexDiv) {
            // console.log("checktabindex")
            if (x != undefined) {
               x.style.zIndex = -11;
            }
         }

         // if (window.innerWidth > window.innerHeight) {

         // }

         mdown = true;
         if (ev.which == 3 || ev.which == 2)
            panNav = true;
         mpos = [ev.clientX - canvas.offsetLeft,ev.clientY - canvas.offsetTop];
      }
      function mouseUp(ev) {
         // console.log('mouseUp');
         // var hotspotContainer = document.getElementById('hotspot_container');
         // if (hotspotContainer.style.display == "none") {
         //    hotspotContainer.style.display = "block"
         // }
         mdown = false;
         if (ev.which == 3 || ev.which == 2 || panNav) panNav = false;
      }

      function mouseOut(ev) {
         for (let i = 0; i < hideIndexId.length; i++) {
            if (window.document.getElementById(hideIndexId[i])) {
               window.document.getElementById(hideIndexId[i]).setAttribute("tabindex","-1");
            }
         }

         if (!mdown) return;
         if (ev.relatedTarget.nodeName != 'HTML') return;
         mdown = false;
      }

      function mouseMove(ev) {

         var hotspotContainer = document.getElementById('hotspot_container');
         if (hotspotContainer.style.display == "block") {
            hotspotContainer.style.display = "none"
         }

         if (ev.target.id !== 'root') {
            return;
         }
         if (!mdown)
            return;
         var s = getScene(ev);
         var mousePos = [ev.clientX - canvas.offsetLeft,ev.clientY - canvas.offsetTop];
         var mdelta = [(mpos[0] - mousePos[0]),(mpos[1] - mousePos[1])];
         mpos = [mousePos[0],mousePos[1]];
         if (!panNav) {
            if (s._nav.NavRotation(mpos,mdelta))
               s.clearRefine();
         }
         else {
            if (s._nav.NavPan(mdelta))
               s.clearRefine();
         }
         window.hotspot = " ";

      }

      function mouseWheel(ev) {
         for (i in ev.path) {
            if (ev.path[i].id == "leftPan" || ev.path[i].id == 'footerControls') return;
            // console.log(ev.path[i].id)

         }
         window.hotspot = ""

         var s = getScene(ev);
         var delta = ev.wheelDelta;

         if (!ev) ev = window.event; /* IE7, IE8, Chrome, Safari */
         if (ev.preventDefault) ev.preventDefault(); /* Chrome, Safari, Firefox */
         ev.returnValue = false; /* IE7, IE8 */
         // var delta = -ev.deltaY;
         var deltaScene = delta * 4.3;

         if (s._nav.NavChangeDolly(deltaScene,true)) {
            // console.log(s._nav._navDolly);
            if (document.getElementById("sliderRange") !== null) {
               document.getElementById("sliderRange").value = s._nav.getZoomFactor();
            }

            s.clearRefine();
         }
         if (document.getElementById("sliderRange") !== null) {
            setTimeout(function () { document.getElementById("sliderRange").value = s._nav.getZoomFactor(); },100);
         }
      }

      var touch,touches,prevTouches,prevDistance = null;
      //TOUCH VARIABLES NAVIGATION ************************
      var touchSensitivity = 500.0;
      var touchZoom = 0.06;
      var touchPan = 500.0;
      //**************************************************
      var firstInteraction = true;
      function touchStart(event) {
         var screenX = document.getElementById('infinityrt-canvas').clientWidth;
         var screenY = document.getElementById('infinityrt-canvas').clientHeight;
         switch (event.touches.length) {
            case 1:
               touches[0].set(event.touches[0].pageX,event.touches[0].pageY,0);
               touches[1].set(event.touches[0].pageX,event.touches[0].pageY,0);
               break;
            case 2:
               touches[0].set(event.touches[0].pageX,event.touches[0].pageY,0);
               touches[1].set(event.touches[1].pageX,event.touches[1].pageY,0);
               prevDistance = touches[0].distanceTo(touches[1]);
               break;
         }
         prevTouches[0].copy(touches[0]);
         prevTouches[1].copy(touches[1]);
      }

      var doubleTouch = false;

      function touchMove(event) {
         var screenX = document.getElementById('infinityrt-canvas').clientWidth;
         var screenY = document.getElementById('infinityrt-canvas').clientHeight;
         var s = getScene(event);

         if (event.touches.length > 1) {

            event.preventDefault();
         }
         event.stopPropagation();
         // document.getElementById('calloutcanvas').style.display = "none";
         window.hotspot = " "

         if (event.target.id != "root") {
            // alert('event.target.id != "root"')
            return;
         }
         for (i in event.path) {
            // console.log(event.path[i])
            if (event.path[i].id == "leftPan" || event.path[i].id == 'footerControls') {
               return;
            }

         }
         var getClosest = function (touch,touches) {
            var closest = touches[0];
            for (var i in touches) {
               if (closest.distanceTo(touch) > touches[i].distanceTo(touch)) closest = touches[i];
            }
            return closest;
         }
         switch (event.touches.length) {
            case 1:
               if (doubleTouch == false) {
                  touches[0].set(event.touches[0].pageX,event.touches[0].pageY,0);
                  touches[1].set(event.touches[0].pageX,event.touches[0].pageY,0);
                  if (s._nav.NavRotation([touches[0].x,touches[0].y],[(prevTouches[0].x - touches[0].x) * touchSensitivity / screenX,(prevTouches[0].y - touches[0].y) * touchSensitivity / screenY])) s.clearRefine();
                  //scope.rotate( touches[ 0 ].sub( getClosest( touches[ 0 ] ,prevTouches ) ).multiplyScalar( - 0.005 ) );
                  if (firstInteraction) {
                     firstInteraction = false;
                     RT_RecordEvent("First 3D Interaction","First 3D Interaction",config.name);
                  } else {
                     RT_RecordEvent("3D Model Interaction","Rotating",config.name);
                  }
               }
               break;
            case 2:
               doubleTouch = true;
               touches[0].set(event.touches[0].pageX,event.touches[0].pageY,0);
               touches[1].set(event.touches[1].pageX,event.touches[1].pageY,0);
               var distance = touches[0].distanceTo(touches[1]);
               var deltaScene = (prevDistance - distance) * touchZoom * screenX;
               if (s._nav.NavChangeDolly(-deltaScene,true)) {
                  s.clearRefine();
                  RT_RecordEvent("3D Model Interaction","Zooming",config.name);
                  if (document.getElementById("sliderRange") !== null) {
                     document.getElementById("sliderRange").value = window.scene._nav.getZoomFactor();
                  }
               }
               //scope.zoom( new Vector3( 0, 0, prevDistance - distance ) );
               prevDistance = distance;
               var offset0 = touches[0].clone().sub(getClosest(touches[0],prevTouches));
               var offset1 = touches[1].clone().sub(getClosest(touches[1],prevTouches));
               offset0.x = -offset0.x;
               offset1.x = -offset1.x;
               var mdelta2 = [offset1.x * touchPan / screenX,-offset1.y * touchPan / screenY];
               if (s._nav.NavPan(mdelta2)) s.clearRefine();
               //scope.pan( offset0.add( offset1 ).multiplyScalar( 0.5 ) );
               break;
         }
         prevTouches[0].copy(touches[0]);
         prevTouches[1].copy(touches[1]);
      }

      function touchEnd(event) {
         setTimeout(function () { doubleTouch = false; },1000);
      }
      window.addEventListener('DOMContentLoaded',function () {
         var resetBtn = document.getElementById('reset');
      });
      function exploreFun() {
         /* Fix for Screen reader calls out "collapsed" at the end of each section header even if it's expanded, so we get "… collapsed, expanded" */
         // if (document.getElementById('selectProductBtn')) {
         //    document.getElementById('selectProductBtn').removeAttribute("aria-expanded");
         // }
         // if (document.getElementById('colorBtn')) {
         //    document.getElementById('colorBtn').removeAttribute("aria-expanded");
         // }

         if (document.getElementById('positionBtn')) {
            document.getElementById('positionBtn').removeAttribute("aria-expanded");
         }
         if (document.getElementById('productViewBtn')) {
            document.getElementById('productViewBtn').removeAttribute("aria-expanded");
         }
         if (document.getElementById('feature')) {
            document.getElementById('feature').removeAttribute("aria-expanded");
         }
         /* Fix for Screen reader end */
         if (document.getElementById('exploreButtton')) {
            document.getElementById('exploreButtton').style.display = 'none';
         }
         if (document.getElementById('root')) {
            document.getElementById('root').style.zIndex = '1';
         }
         if (document.getElementById('sliderRange')) {
            document.getElementById("sliderRange").value = window.scene._nav.getZoomFactor();
         }
         if (document.getElementById('mainload')) {
            document.getElementById('mainload').style.display = "none";
         }
         if (document.getElementById('loader')) {
            document.getElementById('loader').style.display = "none";
         }
         if (document.getElementById('LeftMenuWrapper') != null) {
            window.document.getElementById('LeftMenuWrapper').setAttribute('aria-hidden','false');
         }
         if (document.getElementById('loaders')) {
            document.getElementById('loaders').style.display = "none";
         }
         // document.querySelector('#menubar').style.display = 'block';
         if (!mob && window.innerWidth >= 1026) {
            setTimeout(function () {
               if (document.getElementById("sliderRange")) {
                  document.getElementById("sliderRange").value = window.scene._nav.getZoomFactor();
               }
            },1000);
         }

         if (!(mob || isipad)) {
            hideTabIndex();

         }

         // console.log('abc');

         // document.getElementById('backlitOn').style.display="none";
         resizeCanvas2();

      }
      function exploreFunMob() {
         if (document.getElementById('exploreButtton')) {
            document.getElementById('exploreButtton').style.display = 'none';
         }

         if (document.getElementById('mainload')) {
            // document.getElementById('mainload').style.display = "none";
            document.getElementById('mainload').style.opacity = "0";
            document.getElementById('mainload').style.visibility = "hidden";
            document.getElementById('mainload').style.transition = ".5s ease-out";
         }
         if (document.getElementById('loader')) {
            document.getElementById('loader').style.display = "none";
         }
         if (document.getElementById('root')) {
            document.getElementById('root').style.zIndex = '1';
         }
         if (document.getElementById("sliderRange") !== null) {
            document.getElementById("sliderRange").value = window.scene._nav.getZoomFactor();
            setTimeout(function () { document.getElementById("sliderRange").value = window.scene._nav.getZoomFactor(); },500);
         }
         document.getElementById('loaders').style.display = "none";
         // document.querySelector('#menubar').style.display = 'block';

         // console.log('abc');
      }

      function hideTabIndex() {

         for (let i = 0; i < hideIndexId.length; i++) {
            if (window.document.getElementById(hideIndexId[i])) {
               window.document.getElementById(hideIndexId[i]).setAttribute("tabindex","1");
            }
         }

      }

      // hotspot Functionality

      var hotspotPoint = true;
      var hotspotOn;
      var clockWise = true;
      var antiClockWise = true;
      var portClick;
      var setup;
      var modal;
      var port0 = "";
      // front hotspot
      var port1 = 'Up to FHD IR w/EMZA proximity sensor, privacy shutter, ExpressSign-in';
      var port2 = 'Up to FHD, 15.6 inch, 100% sRGB, 400nits, PremierColor. Touch and ComfortView Plus optional';
      var port3 = 'Optional fingerprint reader on power button';
      var port4 = 'Pro2 backlit Keyboard';
      var port5 = 'Large, glass-like clickpad';
      var port50 = "Optional card reader"

      var port6 = 'uSD Card Reader';

      var port7 = 'Universal headset';
      var port8 = '(2) USB 3.2 Gen 1 (one with PowerShare enabled)';
      var port9 = '"HDMI 2.0';
      var port10 = 'RJ-45';
      var port22 = "Lock slot";
      var port11 = '(2) THunderbolt 4 Type C';
      var port12 = 'Smart Card Reader';
      // var port13 = "xx degree hinge";
      var port14 = "Dell Optimizer for Precision";
      var port14_2 = "ISV Certifications";
      var port14_3 = "MIL-STD Tested";
      var port14_4 = "EPEAT Gold Certified";
      var port15 = "Up to 6-cell 97Whr Long";
      var port15_2 = "Lifecycle battery,";
      var port15_3 = "ExpressCharge and ExpressCharge Boost";
      // var port16 = "Up to NVIDIA RTX A3000 Graphics (8GB)";
      // var port17 = "Up to IntelCore i9 (45W) processor";
      // var port18 = "Up to 4TB of Gen4 storage";
      // var port19 = "Advanced thermals";
      // var port20 = "Up to 64GB of 4800MHz memory";
      // var port21 = "Panels";

      var port18 = "Panels"
      var port19 = "Up to NVIDIA RTX 2000 Ada Generation Graphics (8GB)"
      var port20 = "Advanced thermals"
      var port21 = "Up to 64GB of 4800MHz memory"
      var port24 = "Up to 4TB of Gen4 storage"
      var port23 = "Up to Intel Core i9 (45W) processor"

      function setHotSpot(divid,hotsoptName,leftNum,topNum,hotspotopacityspeed,text,maxwidth,fontsize,txtAligns) {
         var viewCameraZV = [sceneViewMatrix[8],sceneViewMatrix[9],sceneViewMatrix[10]];
         var hotspotopacityspeedConst = 3.0;
         var pos2Dpoint = [];
         var norm3Dpoint1 = scene.getObjectNormal(hotsoptName);
         var hotspotopacity1 = infinityrt_dp(norm3Dpoint1,viewCameraZV) * hotspotopacityspeedConst - hotspotopacityspeed;

         if (hotspotopacity1 > 0 && (hotspotOn == false)) hotspotopacity1 = 1.0;
         if (hotspotopacity1 < 0.0) hotspotopacity1 = 1.0;
         else if (hotspotopacity1 > 1.0) hotspotopacity1 = 1.0;

         document.getElementById(divid).style.opacity = hotspotopacity1;
         document.getElementById(divid).innerHTML = text;
         var hotspotClass = document.getElementsByClassName("hotspots");
         if (hotspotopacity1 == 0) {
            document.getElementById(divid).style.display = "none";
            document.getElementById(divid).setAttribute("tabindex","-1");
            // for(var i=0; hotspotClass.length; i++){
            //     console.log(hotspotClass[i])

            //     hotspotClass[i].setAttribute("tabindex", "-1");
            // }
            // document.getElementsByClassName("hotspots").setAttribute("tabindex", "-1");
         }
         else {
            document.getElementById(divid).style.display = "block";
            document.getElementById(divid).setAttribute("tabindex","0");
            // for(var i=0; hotspotClass.length; i++){
            //     console.log(hotspotClass[i])
            //     hotspotClass[i].setAttribute("tabindex", "0");
            // }
            // document.getElementsByClassName("hotspots").setAttribute("tabindex", "0");

         }
         pos2Dpoint = scene.projectPoint(scene.getObjectLocation(hotsoptName,true));
         /*
             var leftPosPoint = (pos2Dpoint[0] * 50) + leftNum;
             var toptPosPoint = -((pos2Dpoint[1] * 50) - topNum);
         
         console.log('pos2Dpoint[1]', pos2Dpoint[1]);
             console.log('toptPosPoint', toptPosPoint);
             $("#" + divid).css('left', leftPosPoint + '%').css('top', toptPosPoint + '%');
             */
         canvasCallouts = window.document.getElementById("infinityrt-canvas");
         //    ctxCallouts = canvasCallouts.getContext("2d");
         pos2Dpoint[0] = pos2Dpoint[0] * 0.5 + 0.5;
         pos2Dpoint[1] = pos2Dpoint[1] * 0.5 + 0.5;
         pos2Dpoint[1] = 1.0 - pos2Dpoint[1];
         pos2Dpoint[0] *= canvasCallouts.width;
         pos2Dpoint[1] *= canvasCallouts.height;
         // canvasCallouts.font = fontsize + "px " + font;

         window.document.getElementById(divid).style.left = (pos2Dpoint[0] + leftNum + 'px');
         window.document.getElementById(divid).style.top = (pos2Dpoint[1] + topNum + 'px');
         window.document.getElementById(divid).style.width = (maxwidth + 'px');
         document.getElementById(divid).style.fontSize = (fontsize + 'px');
         window.document.getElementById(divid).style.visibility = "visible";
         window.document.getElementById(divid).style.textAlign = txtAligns;

         // $("#" + divid +"::after").css('left', pos2Dpoint[0] + leftNum + 'px').css('top', pos2Dpoint[1] + topNum + 'px');
         /*if(hotspotopacity1==0) {
         $("#point5,#point6,#point7,#point8,#point9,#point10,#point11,#point12,#point13,#point14,#point15,#point16,#point17,#point18,#point19,#point20,#point21,#point22,#point23,#point24,#point25,#point26,#point27,#point28,#point29,#point30,#point31,#point32").removeAttr("tabindex");
         $(".annotation").removeAttr("tabindex");
         
         }*/
         /*else{
         $("#point5,#point6,#point7,#point8,#point9,#point10,#point11,#point12,#point13,#point14,#point15,#point16,#point17,#point18,#point19,#point20,#point21,#point22,#point23,#point24,#point25,#point26,#point27,#point28,#point29,#point30,#point31,#point32").removeAttr("tabindex");
         $(".annotation").removeAttr("tabindex");
             
         }*/

      }

      function hotspotPosAsignment() {
         /*New HotSpot Assignment*/
         var currentPosition = window.hotspot
         // var currentLaptop = window.localStorage.getItem("laptop");
         // var colorHotspot = window.localStorage.getItem("color");

         // console.log("hotspot")

         if (ctxCallouts == null) {
            canvasCallouts = window.document.getElementById("calloutcanvas");
            ctxCallouts = canvasCallouts.getContext("2d");
         }
         ctxCallouts.resetTransform();
         ctxCallouts.clearRect(0,0,canvasCallouts.width,canvasCallouts.height);
         if (mob) {
            if (innerWidth > innerHeight) {
               console.log("landscap_mob")
               if (currentPosition == 'front') {
                  HS_SimpleCallout([0,-50],0,0,"Front_Hotspot_1","",port1,"center",5,400,20);

                  HS_SimpleCallout([50,0],0,0,"Front_Hotspot_2","",port2,"left",5,190,0);

               }
               else if (currentPosition == 'back') {

                  // HS_SimpleCallout([120,-5],0,-5,"Rear_Hotspot_1","",port13,"left",0,190,10);

                  HS_SetOriginFromHotspot("Rear_Hotspot_3");
                  ctxCallouts.fillStyle = 'black';
                  HS_DrawText([-80,0],port14 + ' <br> ' + port14_2 + ' <br> ' + port14_3 + ' <br> ' + port14_4,"Roboto",10,"left",250);


                  HS_SetOriginFromHotspot("Rear_Hotspot_2");
                  ctxCallouts.fillStyle = 'black';
                  HS_DrawText([-0,-0],port15 + ' <br> ' + port15_2 + ' <br> ' + port15_3 + ' <br> ' + port15_3,"Roboto",10,"left",200);
               }
               else if (currentPosition == 'top') {

                  HS_SimpleCallout([60,0],0,0,"Top_Hotspot_1","",port3,"left",0,190,10);

                  HS_SimpleCallout([60,0],0,0,"Top_Hotspot_2","",port4,"left",0,190,10);

                  HS_SimpleCallout([-250,0],0,0,"Top_Hotspot_3","",port5,"right",10,190,10);

                  HS_SimpleCallout([100,-10],-80,-10,"Top_Hotspot_4","",port50,"left",0,100,10);

               }
               else if (currentPosition == 'left') {
                  HS_SimpleCallout([0,-170],0,0,"Left_Hotspot_1","",port22,"right",5,300,25);

                  HS_SimpleCallout([0,-140],0,0,"Left_Hotspot_2","",port10,"right",5,300,25);

                  HS_SimpleCallout([0,-80],0,0,"Left_Hotspot_3","",port9,"right",5,300,30);

                  HS_SetOriginFromHotspot("Left_Hotspot_5");
                  HS_DrawLine([0,-60],[0,-2]); //h
                  HS_DrawLine([43,-60],[43,-2]); //h2
                  HS_DrawLine([0,-60],[43,-60]); //v
                  HS_DrawLine([24,-60],[24,-140]); //h3
                  ctxCallouts.fillStyle = 'black';
                  HS_DrawText([25,-160],port8,"Roboto",10,"center",150)

                  HS_SimpleCallout([0,-75],0,0,"Left_Hotspot_6","",port7,"center",18,80,0);


                  HS_SimpleCallout([0,-35],0,0,"Left_Hotspot_7","",port6,"center",20,80,-15);



               }
               else if (currentPosition == 'right') {

                  HS_SetOriginFromHotspot("Right_Hotspot_1");
                  HS_DrawLine([0,-60],[0,-2]); //h
                  HS_DrawLine([33,-60],[33,-2]); //h2
                  HS_DrawLine([0,-60],[33,-60]); //v
                  HS_DrawLine([17,-60],[17,-140]); //h3
                  ctxCallouts.fillStyle = 'black';
                  HS_DrawText([25,-150],port11,"Roboto",10,"center",120)

                  HS_SimpleCallout([0,-60],0,0,"Right_Hotspot_3","",port12,"left",5,300,-5);

               }
               else if (currentPosition == 'explode') {
                  HS_SimpleCallout([40,0],0,0,"internal_hotspot_01","",port18,"left",10,120,0);

                  HS_SimpleCallout([180,-13],0,-13,"internal_hotspot_02","",port19,"left",10,200,0);

                  HS_SimpleCallout([30,-15],-10,-15,"internal_hotspot_03","",port20,"left",0,200,5);


                  //HS_SimpleCallout([-150, 0], 0, 0, "internal_hotspot_04", "", port21, "right", 10, 120,0);            
                  HS_SetOriginFromHotspot("internal_hotspot_06");
                  HS_DrawLine([0,15],[0,-12]); //v1
                  HS_DrawLine([-105,15],[-105,-12]); //v2
                  HS_DrawLine([-270,15],[0,15]); //h1
                  HS_DrawText([-275,15],port24,"Roboto",10,"right",120);

                  HS_SetOriginFromHotspot("internal_hotspot_05");
                  HS_DrawLine([0,0],[0,-18]); //v1
                  HS_DrawLine([-105,0],[-105,-18]); //v2
                  HS_DrawLine([-250,0],[0,0]); //h1
                  HS_DrawText([-255,0],port21,"Roboto",10,"right",300);

                  HS_SimpleCallout([-210,-13],0,-13,"internal_hotspot_08","",port23,"right",5,120,0);
               }
            }
            else {
               console.log("portrait_mob")
               if (currentPosition == 'front') {
                  HS_SimpleCallout([0,-50],0,0,"Front_Hotspot_1","",port1,"center",5,400,20);
                  HS_SetOriginFromHotspot("Front_Hotspot_2");
                  HS_DrawLine([40,0],[0,0]);
                  HS_DrawLine([40,200],[40,0]);
                  ctxCallouts.fillStyle = '#d8d8d8';
                  ctxCallouts.fillStyle = 'black';
                  HS_DrawText([40,205],port2,"Roboto",10,"right",300);

               }
               else if (currentPosition == 'back') {
                  // HS_SimpleCallout([0,50],0,0,"Rear_Hotspot_1","",port13,"center",5,190,0);

                  HS_SetOriginFromHotspot("Rear_Hotspot_2");
                  ctxCallouts.fillStyle = 'black';
                  HS_DrawText([-150,-120],port15 + ' <br> ' + port15_2 + ' <br> ' + port15_3 + ' <br> ' + port15_3,"Roboto",10,"left",200);

                  HS_SetOriginFromHotspot("Rear_Hotspot_3");
                  ctxCallouts.fillStyle = 'black';
                  HS_DrawText([60,-120],port14 + ' <br> ' + port14_2 + ' <br> ' + port14_3 + ' <br> ' + port14_4,"Roboto",10,"left",250);

               }
               else if (currentPosition == 'top') {

                  HS_SetOriginFromHotspot("Top_Hotspot_1");
                  HS_DrawLine([60,0],[0,0]);
                  HS_DrawLine([60,-160],[60,0]);
                  ctxCallouts.fillStyle = '#d8d8d8';
                  ctxCallouts.fillStyle = 'black';
                  HS_DrawText([60,-170],port3,"Roboto",10,"right",160);

                  HS_SetOriginFromHotspot("Top_Hotspot_2");
                  HS_DrawLine([40,0],[0,0]);
                  HS_DrawLine([40,150],[40,0]);
                  ctxCallouts.fillStyle = '#d8d8d8';
                  ctxCallouts.fillStyle = 'black';
                  HS_DrawText([40,150],port4,"Roboto",10,"right",160);

                  HS_SimpleCallout([0,76],0,0,"Top_Hotspot_3","",port5,"right",5,190,60)

                  HS_SimpleCallout([-43,120],-43,-7,"Top_Hotspot_4","",port50,"left",5,100,0)


               }
               else if (currentPosition == 'left') {
                  HS_SimpleCallout([0,-40],0,0,"Left_Hotspot_7","",port6,"right",0,100,5);

                  HS_SimpleCallout([0,-60],0,0,"Left_Hotspot_6","",port7,"center",18,80,);

                  HS_SetOriginFromHotspot("Left_Hotspot_5");
                  HS_DrawLine([0,-50],[0,-2]); //h
                  HS_DrawLine([23,-50],[23,-2]); //h2
                  HS_DrawLine([0,-50],[23,-50]); //v
                  HS_DrawLine([12,-50],[12,-120]); //h3
                  ctxCallouts.fillStyle = 'black';
                  HS_DrawText([15,-155],port8,"Roboto",10,"center",100)

                  HS_SimpleCallout([0,-60],0,0,"Left_Hotspot_3","",port9,"right",5,300,20);

                  HS_SimpleCallout([0,-90],0,0,"Left_Hotspot_2","",port10,"right",5,300,15);

                  HS_SimpleCallout([0,-120],0,0,"Left_Hotspot_1","",port22,"right",5,300,16);



               }
               else if (currentPosition == 'right') {
                  HS_SimpleCallout([0,-40],0,0,"Right_Hotspot_3","",port12,"left",0,300,-5);

                  HS_SetOriginFromHotspot("Right_Hotspot_1");
                  HS_DrawLine([0,-40],[0,-2]); //h
                  HS_DrawLine([18,-40],[18,-2]); //h2
                  HS_DrawLine([0,-40],[18,-40]); //v
                  HS_DrawLine([9,-40],[9,-110]); //h3
                  ctxCallouts.fillStyle = 'black';
                  HS_DrawText([30,-134],port11,"Roboto",10,"center",80)

               }
               else if (currentPosition == 'explode') {
                  // HS_SimpleCallout([0, -40], 0,30, "Front_Hotspot_1", "", port16, "center", 30, 350, 0);
                  HS_SimpleCallout([15,0],0,0,"internal_hotspot_01","",port18,"left",5,120,0);
                  HS_SimpleCallout([100,-7],0,-7,"internal_hotspot_02","",port19,"left",5,70,0);
                  HS_SimpleCallout([0,75],0,0,"internal_hotspot_03","",port20,"center",5,120,0);

                  HS_SetOriginFromHotspot("internal_hotspot_06");
                  HS_DrawLine([0,-6],[0,4]); //v1
                  HS_DrawLine([-55,-6],[-55,4]); //v2
                  HS_DrawLine([-160,4],[0,4]); //h1
                  HS_DrawText([-160,0],port24,"Roboto",10,"right",50);

                  HS_SetOriginFromHotspot("internal_hotspot_05");
                  HS_DrawLine([0,-9],[0,0]); //v1
                  HS_DrawLine([-40,-9],[-40,0]); //v2
                  HS_DrawLine([-40,0],[0,0]); //h1
                  HS_DrawLine([-20,80],[-20,0]); //v1
                  HS_DrawText([-20,90],port21,"Roboto",10,"center",75);

                  HS_SetOriginFromHotspot("internal_hotspot_08");
                  HS_DrawLine([0,-35],[0,-5]); //v1
                  HS_DrawLine([-115,-35],[0,-35]); //h1
                  HS_DrawText([-115,-65],port23,"Roboto",10,"right",50);
               }
            }
         }
         else if (isipad) {

            if (window.innerWidth > window.innerHeight) {
               console.log("lanscap_ipad");
               if (currentPosition == 'front') {
                  HS_SimpleCallout([0,-50],0,0,"Front_Hotspot_1","",port1,"center",15,400,20);

                  HS_SetOriginFromHotspot("Front_Hotspot_2");
                  HS_DrawLine([60,0],[0,0]);
                  HS_DrawLine([60,280],[60,0]);
                  ctxCallouts.fillStyle = '#d8d8d8';
                  ctxCallouts.fillStyle = 'black';
                  HS_DrawText([60,290],port2,"Roboto",13,"right",300);


               }
               else if (currentPosition == 'back') {
                  // HS_SimpleCallout([0,50],0,0,"Rear_Hotspot_1","",port13,"center",5,190,0);

                  HS_SetOriginFromHotspot("Rear_Hotspot_3");
                  ctxCallouts.fillStyle = 'black';
                  HS_DrawText([60,-130],port14 + ' <br> ' + port14_2 + ' <br> ' + port14_3 + ' <br> ' + port14_4,"Roboto",13,"left",250);

                  HS_SetOriginFromHotspot("Rear_Hotspot_2");
                  ctxCallouts.fillStyle = 'black';
                  HS_DrawText([-150,-130],port15 + ' <br> ' + port15_2 + ' <br> ' + port15_3 + ' <br> ' + port15_4,"Roboto",13,"left",200);


               }
               else if (currentPosition == 'top') {
                  HS_SimpleCallout([40,0],0,0,"Top_Hotspot_1","",port3,"left",0,150,5);

                  HS_SimpleCallout([40,0],0,0,"Top_Hotspot_2","",port4,"left",0,190,10);

                  HS_SimpleCallout([0,120],0,0,"Top_Hotspot_3","",port5,"right",5,190,60)
                  HS_SimpleCallout([-75,100],-75,-10,"Top_Hotspot_4","",port50,"left",5,100,0)


               }
               else if (currentPosition == 'left') {

                  HS_SimpleCallout([0,-45],0,0,"Left_Hotspot_7","",port6,"center",15,100,-25);

                  HS_SimpleCallout([0,-190],0,0,"Left_Hotspot_1","",port22,"right",5,300,25);

                  HS_SimpleCallout([0,-160],0,0,"Left_Hotspot_2","",port10,"right",5,300,25);

                  HS_SimpleCallout([0,-100],0,0,"Left_Hotspot_3","",port9,"right",5,300,30);

                  HS_SetOriginFromHotspot("Left_Hotspot_5");
                  HS_DrawLine([0,-60],[0,-2]); //h
                  HS_DrawLine([43,-60],[43,-2]); //h2
                  HS_DrawLine([0,-60],[43,-60]); //v
                  HS_DrawLine([24,-60],[24,-165]); //h3
                  ctxCallouts.fillStyle = 'black';
                  HS_DrawText([25,-190],port8,"Roboto",13,"center",200)

                  HS_SimpleCallout([0,-95],0,0,"Left_Hotspot_6","",port7,"center",24,100,0);

               }
               else if (currentPosition == 'right') {

                  HS_SimpleCallout([0,-60],0,0,"Right_Hotspot_3","",port12,"left",5,300,-5);


                  HS_SetOriginFromHotspot("Right_Hotspot_1");
                  HS_DrawLine([0,-60],[0,-2]); //h
                  HS_DrawLine([33,-60],[33,-2]); //h2
                  HS_DrawLine([0,-60],[33,-60]); //v
                  HS_DrawLine([17,-60],[17,-140]); //h3
                  ctxCallouts.fillStyle = 'black';
                  HS_DrawText([20,-160],port11,"Roboto",13,"center",120)

               }
               else if (currentPosition == 'explode') {
                  HS_SimpleCallout([40,0],0,0,"internal_hotspot_01","",port18,"left",10,120,0);

                  HS_SimpleCallout([180,-13],0,-13,"internal_hotspot_02","",port19,"left",10,200,0);

                  HS_SimpleCallout([30,-15],-10,-15,"internal_hotspot_03","",port20,"left",0,200,5);


                  //HS_SimpleCallout([-150, 0], 0, 0, "internal_hotspot_04", "", port21, "right", 10, 120,0);            
                  HS_SetOriginFromHotspot("internal_hotspot_06");
                  HS_DrawLine([0,15],[0,-12]); //v1
                  HS_DrawLine([-105,15],[-105,-12]); //v2
                  HS_DrawLine([-270,15],[0,15]); //h1
                  HS_DrawText([-275,15],port24,"Roboto",15,"right",130);

                  HS_SetOriginFromHotspot("internal_hotspot_05");
                  HS_DrawLine([0,0],[0,-18]); //v1
                  HS_DrawLine([-105,0],[-105,-18]); //v2
                  HS_DrawLine([-250,0],[0,0]); //h1
                  HS_DrawText([-255,0],port21,"Roboto",15,"right",140);

                  HS_SimpleCallout([-210,-13],0,-13,"internal_hotspot_08","",port23,"right",5,120,0);
               }
            }
            else {
               console.log("portrait_ipad");
               if (currentPosition == 'front') {

                  HS_SimpleCallout([0,-50],0,0,"Front_Hotspot_1","",port1,"center",20,400,20);

                  HS_SetOriginFromHotspot("Front_Hotspot_2");
                  HS_DrawLine([45,0],[0,0]);
                  HS_DrawLine([45,250],[45,0]);
                  ctxCallouts.fillStyle = '#d8d8d8';
                  ctxCallouts.fillStyle = 'black';
                  HS_DrawText([45,255],port2,"Roboto",13,"right",340);

               }
               else if (currentPosition == 'back') {
                  // HS_SimpleCallout([0,50],0,0,"Rear_Hotspot_1","",port13,"center",5,190,0);

                  HS_SetOriginFromHotspot("Rear_Hotspot_3");
                  ctxCallouts.fillStyle = 'black';
                  HS_DrawText([60,-120],port14 + ' <br> ' + port14_2 + ' <br> ' + port14_3 + ' <br> ' + port14_4,"Roboto",13,"left",250);

                  HS_SetOriginFromHotspot("Rear_Hotspot_2");
                  ctxCallouts.fillStyle = 'black';
                  HS_DrawText([-160,-120],port15 + ' <br> ' + port15_2 + ' <br> ' + port15_3 + ' <br> ' + port15_4,"Roboto",13,"left",200);

               }
               else if (currentPosition == 'top') {

                  HS_SetOriginFromHotspot("Top_Hotspot_1");
                  HS_DrawLine([90,0],[0,0]);
                  HS_DrawLine([90,-180],[90,0]);
                  ctxCallouts.fillStyle = '#d8d8d8';
                  ctxCallouts.fillStyle = 'black';
                  HS_DrawText([90,-190],port3,"Roboto",13,"right",160);

                  HS_SetOriginFromHotspot("Top_Hotspot_2");
                  HS_DrawLine([60,0],[0,0]);
                  HS_DrawLine([60,190],[60,0]);
                  ctxCallouts.fillStyle = '#d8d8d8';
                  ctxCallouts.fillStyle = 'black';
                  HS_DrawText([60,190],port4,"Roboto",13,"right",160);

                  HS_SimpleCallout([0,90],0,0,"Top_Hotspot_3","",port5,"right",5,190,60)

                  HS_SimpleCallout([-57,120],-57,-10,"Top_Hotspot_4","",port50,"left",5,100,0)



               }
               else if (currentPosition == 'left') {
                  HS_SimpleCallout([0,-45],0,0,"Left_Hotspot_7","",port6,"center",15,100,-25);

                  HS_SimpleCallout([0,-95],0,0,"Left_Hotspot_6","",port7,"center",18,100,);

                  HS_SetOriginFromHotspot("Left_Hotspot_5");
                  HS_DrawLine([0,-60],[0,-2]); //h
                  HS_DrawLine([33,-60],[33,-2]); //h2
                  HS_DrawLine([0,-60],[33,-60]); //v
                  HS_DrawLine([17,-60],[17,-140]); //h3
                  ctxCallouts.fillStyle = 'black';
                  HS_DrawText([25,-160],port8,"Roboto",13,"center",200)

                  HS_SimpleCallout([0,-100],0,0,"Left_Hotspot_3","",port9,"right",5,300,30);

                  HS_SimpleCallout([0,-60],0,0,"Left_Hotspot_2","",port10,"right",5,300,15);

                  HS_SimpleCallout([0,-190],0,0,"Left_Hotspot_1","",port22,"right",5,300,16);

               }
               else if (currentPosition == 'right') {
                  HS_SimpleCallout([0,-60],0,0,"Right_Hotspot_3","",port12,"left",5,300,-5);

                  HS_SetOriginFromHotspot("Right_Hotspot_1");
                  HS_DrawLine([0,-60],[0,-2]); //h
                  HS_DrawLine([28,-60],[28,-2]); //h2
                  HS_DrawLine([0,-60],[28,-60]); //v
                  HS_DrawLine([15,-60],[15,-140]); //h3
                  ctxCallouts.fillStyle = 'black';
                  HS_DrawText([25,-164],port11,"Roboto",13,"center",120)
               }
               else if (currentPosition == 'explode') {
                  HS_SimpleCallout([15,0],0,0,"internal_hotspot_01","",port18,"left",5,120,0);
                  HS_SimpleCallout([140,-9],0,-9,"internal_hotspot_02","",port19,"left",5,70,0);
                  HS_SimpleCallout([0,115],0,0,"internal_hotspot_03","",port20,"center",5,120,0);

                  HS_SetOriginFromHotspot("internal_hotspot_06");
                  HS_DrawLine([0,-10],[0,4]); //v1
                  HS_DrawLine([-95,-10],[-95,4]); //v2
                  HS_DrawLine([-200,4],[0,4]); //h1
                  HS_DrawText([-205,0],port24,"Roboto",13,"right",50);

                  HS_SetOriginFromHotspot("internal_hotspot_05");
                  HS_DrawLine([0,-9],[0,0]); //v1
                  HS_DrawLine([-60,-9],[-60,0]); //v2
                  HS_DrawLine([-60,0],[0,0]); //h1
                  HS_DrawLine([-30,80],[-30,0]); //v1
                  HS_DrawText([-30,90],port21,"Roboto",13,"center",75);

                  HS_SetOriginFromHotspot("internal_hotspot_08");
                  HS_DrawLine([0,-35],[0,-5]); //v1
                  HS_DrawLine([-160,-35],[0,-35]); //h1
                  HS_DrawText([-160,-65],port23,"Roboto",13,"right",50);
               }
            }
         }
         else {
            //console.log('desktop')
            if (currentPosition == 'front') {
               // setHotSpot('hotspot1demo','Front_Hotspot_1',50,-15,1.0,port0,200,19,"right");

               HS_SimpleCallout([0,-50],0,0,"Front_Hotspot_1","",port1,"center",24,400,20);
               // setHotSpot('hotspot2','hotspot_010',110,-112,0,port1,395,18,"center");

               HS_SimpleCallout([30,0],0,0,"Front_Hotspot_2","",port2,"left",10,160,0);
               // setHotSpot('hotspot3','hotspot_012',351,-12,0,port3,310,18,"center");

            }
            else if (currentPosition == 'back') {

               if (navigator.userAgent.indexOf("Safari") != -1 && (window.innerWidth >= 1300 || window.innerWidth <= 1750)) {

                  // HS_SimpleCallout([120,-5],0,-5,"Rear_Hotspot_1","",port13,"left",0,50,10);

                  // // setHotSpot('hotspot1demo','hotspot_030',50,-15,1.0,port0,200,19,"right");
                  // HS_SetOriginFromHotspot("Rear_Hotspot_3");
                  // ctxCallouts.fillStyle = 'black';
                  // HS_DrawText([0,0],port14 + ' <br> ' + port14_2 + ' <br> ' + port14_3 + ' <br> ' + port14_4,"Roboto",15,"left",50);

                  // HS_SetOriginFromHotspot("Rear_Hotspot_2");
                  // ctxCallouts.fillStyle = 'black';
                  // HS_DrawText([0,0],port15 + ' <br> ' + port15_2 + ' <br> ' + port15_3 + ' <br> ' + port15_4,"Roboto",15,"left",50);
               }



               // HS_SimpleCallout([120,-5],0,-5,"Rear_Hotspot_1","",port13,"left",0,190,10);

               // setHotSpot('hotspot1demo','hotspot_030',50,-15,1.0,port0,200,19,"right");
               HS_SetOriginFromHotspot("Rear_Hotspot_3");
               ctxCallouts.fillStyle = 'black';
               HS_DrawText([40,0],port14 + ' <br> ' + port14_2 + ' <br> ' + port14_3 + ' <br> ' + port14_4,"Roboto",15,"right",250);

               HS_SetOriginFromHotspot("Rear_Hotspot_2");
               ctxCallouts.fillStyle = 'black';
               HS_DrawText([-35,0],port15 + ' <br> ' + port15_2 + ' <br> ' + port15_3 + ' <br> ' + port15_4,"Roboto",15,"left",200);

               // setHotSpot('hotspot16','hotspot_030',1045,-70,0,port33 + ' <br> ' + port34 + ' <br> ' + port35 + ' <br> ' + port53 + ' <br> ' + port36 + ' <br> ' + port37 + ' <br> ' + port38 + ' <br> ' + port39,320,19,"left")
            }
            else if (currentPosition == 'top') {
               // setHotSpot('hotspot1demo','Top_Hotspot_1',278,72,0,port0,195,18,"right");

               HS_SimpleCallout([60,0],0,0,"Top_Hotspot_1","",port3,"left",0,190,10);
               // setHotSpot('hotspot10','hotspot_024',71,-10,0,port22,142,18,"left");


               HS_SimpleCallout([60,0],0,0,"Top_Hotspot_2","",port4,"left",0,190,10);

               // setHotSpot('hotspot14','hotspot_025',659,-85,0,port23,260,18,"left");

               HS_SimpleCallout([-250,0],0,0,"Top_Hotspot_3","",port5,"right",10,190,10);

               HS_SimpleCallout([100,-15],-80,-15,"Top_Hotspot_4","",port50,"left",0,100,10);




            }
            else if (currentPosition == 'left') {
               // console.log('left')
               // setHotSpot('hotspot1demo','Chassis_intrusion_switch_hotspot',50,-15,1.0,port0,200,19,"right");

               HS_SimpleCallout([0,-300],0,0,"Left_Hotspot_1","",port22,"right",5,300,5);

               HS_SimpleCallout([0,-250],0,0,"Left_Hotspot_2","",port10,"right",5,300,5);

               HS_SimpleCallout([0,-210],0,0,"Left_Hotspot_3","",port9,"right",5,300,5);

               HS_SetOriginFromHotspot("Left_Hotspot_5");
               HS_DrawLine([0,-60],[0,-2]); //h
               HS_DrawLine([43,-60],[43,-2]); //h2
               HS_DrawLine([0,-60],[43,-60]); //v
               HS_DrawLine([24,-60],[24,-140]); //h3
               ctxCallouts.fillStyle = 'black';
               HS_DrawText([25,-170],port8,"Roboto",15,"right",300)

               HS_SimpleCallout([0,-80],0,0,"Left_Hotspot_6","",port7,"right",10,300,5);


               HS_SimpleCallout([0,-35],0,0,"Left_Hotspot_7","",port6,"right",10,300,5);

            }
            else if (currentPosition == 'right') {
               // console.log('right')
               // setHotSpot('hotspot1demo','hotspot_016',278,72,0,port0,195,18,"right");

               HS_SetOriginFromHotspot("Right_Hotspot_1");
               HS_DrawLine([0,-60],[0,-1]); //h
               HS_DrawLine([33,-60],[33,-1]); //h2
               HS_DrawLine([0,-60],[33,-60]); //v
               HS_DrawLine([17,-60],[17,-140]); //h3
               ctxCallouts.fillStyle = 'black';
               HS_DrawText([5,-174],port11,"Roboto",15,"left",300)

               HS_SimpleCallout([0,-60],0,0,"Right_Hotspot_3","",port12,"left",5,400,-5);

            }
            else if (currentPosition == 'explode') {
               // console.log("explode");
               if (window.innerWidth < 1480) {
                  console.log("explode8");
                  HS_SimpleCallout([40,0],0,0,"internal_hotspot_01","",port18,"left",10,120,0);

                  HS_SimpleCallout([180,0],0,0,"internal_hotspot_02","",port19,"left",10,120,0);

                  HS_SimpleCallout([30,0],0,0,"internal_hotspot_03","",port20,"left",10,120,0);

                  //HS_SimpleCallout([-150, 0], 0, 0, "internal_hotspot_04", "", port21, "right", 10, 120,0);            
                  // HS_SetOriginFromHotspot("internal_hotspot_04");
                  // HS_DrawLine([-150, 65], [0, 0]); //v1
                  // HS_DrawLine([-150, 65], [90, 0]); //v2
                  // ctxCallouts.fillStyle = 'black';
                  // HS_DrawText([-150, 65], port21, "Roboto", 15, "right", 100);

                  //HS_SimpleCallout([-150, 0], 0, 0, "internal_hotspot_07", "", port22, "right", 10, 120,0);

                  HS_SetOriginFromHotspot("internal_hotspot_06");
                  HS_DrawLine([0,15],[0,0]); //v1
                  HS_DrawLine([-105,15],[-105,0]); //v2
                  HS_DrawLine([-270,15],[0,15]); //h1
                  HS_DrawText([-275,0],port24,"Roboto",15,"right",100);

                  HS_SetOriginFromHotspot("internal_hotspot_05");
                  HS_DrawLine([0,15],[0,0]); //v1
                  HS_DrawLine([-105,15],[-105,0]); //v2
                  HS_DrawLine([-250,15],[0,15]); //h1
                  HS_DrawText([-255,0],port21,"Roboto",15,"right",100);

                  //HS_SimpleCallout([-210, 0], 0, 0, "internal_hotspot_08", "", port23, "right", 5, 150,0);
                  HS_SetOriginFromHotspot("internal_hotspot_08");
                  HS_DrawLine([0,-15],[0,0]); //v1
                  HS_DrawLine([-250,-15],[0,-15]); //h1
                  HS_DrawText([-255,-35],port23,"Roboto",15,"right",100);
               }
               else {
                  console.log("explode0");
                  HS_SimpleCallout([40,0],0,0,"internal_hotspot_01","",port18,"left",10,120,0);

                  HS_SimpleCallout([180,-13],0,-13,"internal_hotspot_02","",port19,"left",10,200,0);

                  HS_SimpleCallout([30,-15],-10,-15,"internal_hotspot_03","",port20,"left",0,200,5);


                  //HS_SimpleCallout([-150, 0], 0, 0, "internal_hotspot_04", "", port21, "right", 10, 120,0);            
                  HS_SetOriginFromHotspot("internal_hotspot_06");
                  HS_DrawLine([0,15],[0,-12]); //v1
                  HS_DrawLine([-105,15],[-105,-12]); //v2
                  HS_DrawLine([-270,15],[0,15]); //h1
                  HS_DrawText([-275,15],port24,"Roboto",15,"right",300);

                  HS_SetOriginFromHotspot("internal_hotspot_05");
                  HS_DrawLine([0,0],[0,-18]); //v1
                  HS_DrawLine([-105,0],[-105,-18]); //v2
                  HS_DrawLine([-250,0],[0,0]); //h1
                  HS_DrawText([-255,0],port21,"Roboto",15,"right",300);

                  HS_SimpleCallout([-210,-13],0,-13,"internal_hotspot_08","",port23,"right",5,300,0);
               }
            }
         }
         /*New HotSpot Assignment End*/
      }


      /*New HotSpot Assignment Functions*/

      function HS_SimpleCallout1(pt,horizontalShift,verticalShift,hotspotname,txtNum,txtValue,txtAlign,txtDist,vrTextShift,maxWidth) {
         // HS_DrawText_WrapText(txtValue);
         //txtValue = txtValue.split('<br>');
         var npt = [pt[0],pt[1]];
         var nptlen = Math.sqrt(npt[0] * npt[0] + npt[1] * npt[1]);
         npt[0] /= nptlen;
         npt[1] /= nptlen;
         HS_SetOriginFromHotspot(hotspotname);
         HS_DrawLine(pt,[horizontalShift,verticalShift]);


         if (txtNum != '') {

            ctxCallouts.fillStyle = '#d8d8d8';
            HS_DrawCircle([pt[0] + 5 * npt[0],pt[1] + 5 * npt[1]],13);
            ctxCallouts.fillStyle = 'black';
            HS_DrawText([pt[0] + 5 * npt[0] + 1,pt[1] + 5 * npt[1] + 1],txtNum,"Roboto",13,"center");
         }

         HS_DrawText([pt[0] + (txtDist) * npt[0],pt[1] + (5 + txtDist) * npt[1] - vrTextShift],txtValue,"Roboto",15,txtAlign,maxWidth);

      }


      function HS_F_smallAtStart_HrCallout(pt,vrLineHeight,distanceBtn2Vr,horizontalShift,verticalShift,hotspotname,txtNum,txtValue,vrTextShift,txtAlign,txtDist,maxWidth) {
         if (vrTextShift == 'undefined') vrTextShift = 0;
         //txtValue = txtValue.split('<br>');
         var npt = [pt[0],pt[1]];
         var nptlen = Math.sqrt(npt[0] * npt[0] + npt[1] * npt[1]);
         npt[0] /= nptlen;
         npt[1] /= nptlen;
         HS_SetOriginFromHotspot(hotspotname);
         HS_DrawLine([horizontalShift,vrLineHeight],[horizontalShift,verticalShift]);
         HS_DrawLine([distanceBtn2Vr,vrLineHeight],[distanceBtn2Vr,verticalShift]);
         HS_DrawLine(pt,[horizontalShift,vrLineHeight]);
         if (txtNum != '') {
            ctxCallouts.fillStyle = '#D8D8D8';
            HS_DrawCircle([pt[0] + 5 * npt[0],pt[1] + 5 * npt[1]],13);
            ctxCallouts.fillStyle = 'black';
            // HS_DrawText([pt[0] + 5 * npt[0], pt[1] + 6 * npt[1]], txtNum, "Roboto", 14, "center");
            HS_DrawText([pt[0] + 5 * npt[0] + 2,pt[1] + 5 * npt[1] + 1],txtNum,"Roboto",14,"center");
         }
         HS_DrawText([pt[0] + (txtDist) * npt[0],pt[1] + (5 + txtDist) * npt[1] - vrTextShift],txtValue,"Roboto",15,txtAlign,maxWidth);


      }

      function HS_U_HrCallout(pt,hrLineWidth,vrLineHeight,hrShift,vrshift,hotspotname,txtNum,txtValue,vrTextShift,txtAlign,txtDist,maxWidth) {
         var npt = [pt[0],pt[1]];
         var nptlen = Math.sqrt(npt[0] * npt[0] + npt[1] * npt[1]);
         npt[0] /= nptlen;
         npt[1] /= nptlen;
         HS_SetOriginFromHotspot(hotspotname);
         HS_DrawLine([hrLineWidth,vrshift],[0,vrshift]);
         HS_DrawLine([hrLineWidth,vrshift],[hrLineWidth,vrLineHeight]);
         HS_DrawLine([hrLineWidth,vrLineHeight],[0,vrLineHeight]);
         HS_DrawLine([pt[0],(vrLineHeight / 2) + vrshift / 2],[-vrLineHeight,(vrLineHeight / 2) + vrshift / 2]);


         if (txtNum != '') {
            ctxCallouts.fillStyle = '#d8d8d8';
            HS_DrawCircle([pt[0] + 5 * npt[0],(pt[1] + 5 * npt[1]) + (vrshift / 2)],13);

            ctxCallouts.fillStyle = 'black';
            HS_DrawText([pt[0] + 5 * npt[0] + 2,(pt[1] + 5 * npt[1] + 1) + (vrshift / 2)],txtNum,"Roboto",14,"center");
         }
         HS_DrawText([pt[0] + (txtDist) * npt[0],(pt[1] + (5 + txtDist) * npt[1]) + (vrshift / 2) - vrTextShift],txtValue,"Roboto",15,txtAlign,maxWidth);

      }

      function HS_L_smallAtStart_HrCallout(pt,vrLineHeight,horizontalShift,verticalShift,hotspotname,txtNum,txtValue,vrTextShift,txtAlign,txtDist,maxWidth) {
         if (vrTextShift == 'undefined') vrTextShift = 0;
         var npt = [pt[0],pt[1]];
         var nptlen = Math.sqrt(npt[0] * npt[0] + npt[1] * npt[1]);
         npt[0] /= nptlen;
         npt[1] /= nptlen;
         HS_SetOriginFromHotspot(hotspotname);
         HS_DrawLine([0,vrLineHeight],[horizontalShift,verticalShift]);
         HS_DrawLine(pt,[0,vrLineHeight]);
         if (txtNum != '') {
            ctxCallouts.fillStyle = '#d8d8d8';
            HS_DrawCircle([pt[0] + 5 * npt[0],pt[1] + 5 * npt[1]],13);

            ctxCallouts.fillStyle = 'black';
            HS_DrawText([pt[0] + 5 * npt[0] + 2,pt[1] + 5 * npt[1] + 1],txtNum,"Roboto",14,"center");
         }
         HS_DrawText([pt[0] + (txtDist) * npt[0],pt[1] + (5 + txtDist) * npt[1] - vrTextShift],txtValue,"Roboto",15,txtAlign,maxWidth);

      }

      function HS_SimpleCallout(pt,horizontalShift,verticalShift,hotspotname,txtNum,txtValue,txtAlign,txtDist,maxWidth,textHorizontalShift) {
         // HS_DrawText_WrapText(txtValue);
         //txtValue = txtValue.split('<br>');
         if (textHorizontalShift == undefined) textHorizontalShift = 0;
         var npt = [pt[0],pt[1]];
         var nptlen = Math.sqrt(npt[0] * npt[0] + npt[1] * npt[1]);
         npt[0] /= nptlen;
         npt[1] /= nptlen;
         HS_SetOriginFromHotspot(hotspotname);
         HS_DrawLine(pt,[horizontalShift,verticalShift]);
         if (txtNum != '') {
            ctxCallouts.fillStyle = '#d8d8d8';
            HS_DrawCircle([pt[0] + 5 * npt[0],pt[1] + 5 * npt[1]],13);
            ctxCallouts.fillStyle = 'black';
            HS_DrawText([pt[0] + 5 * npt[0] + 1,pt[1] + 5 * npt[1] + 1],txtNum,"Roboto",13,"center");
         }
         if (mob) {
            HS_DrawText([pt[0] + ((txtDist) * npt[0]) + textHorizontalShift,pt[1] + (5 + txtDist) * npt[1]],txtValue,"Roboto",10,txtAlign,maxWidth);
         }
         else if (isipad) {
            HS_DrawText([pt[0] + ((txtDist) * npt[0]) + textHorizontalShift,pt[1] + (5 + txtDist) * npt[1]],txtValue,"Roboto",13,txtAlign,maxWidth);
         }
         else {
            HS_DrawText([pt[0] + ((txtDist) * npt[0]) + textHorizontalShift,pt[1] + (5 + txtDist) * npt[1]],txtValue,"Roboto",15,txtAlign,maxWidth);
         }
      }

      if (mob || isipad) {
         var lineHeight = 14;
      } else {
         var lineHeight = 20;
      }

      function HS_SetOriginFromHotspot(name) {
         var pos2D = scene.projectPoint(scene.getObjectLocation(name,true));
         pos2D[0] = pos2D[0] * 0.5 + 0.5;
         pos2D[1] = pos2D[1] * 0.5 + 0.5;
         pos2D[1] = 1.0 - pos2D[1];
         pos2D[0] *= canvasCallouts.width;
         pos2D[1] *= canvasCallouts.height;
         HS_SetOrigin(pos2D);
      }

      function HS_SetOrigin(pt) {
         ctxCallouts.resetTransform();
         ctxCallouts.translate(pt[0] + _calloutPlacement / 2,pt[1]);
         var scale = canvasCallouts.height / 800;
         ctxCallouts.scale(scale,scale);
      }

      function HS_DrawLine(pt0,pt1) {
         ctxCallouts.beginPath();
         ctxCallouts.moveTo(pt0[0],pt0[1]);
         ctxCallouts.lineTo(pt1[0],pt1[1]);
         ctxCallouts.stroke();
         //ctxCallouts.strokeStyle = '#0076CE';
         ctxCallouts.strokeStyle = '#979797';
      }

      function HS_DrawCircle(pt,radius) {
         ctxCallouts.beginPath();
         ctxCallouts.ellipse(pt[0],pt[1],radius,radius,0,0,2 * Math.PI);
         ctxCallouts.fill();
      }

      function HS_DrawText(pt,text,font,fontsize,txtalign,maxWidth) {

         ctxCallouts.font = fontsize + "px " + font;
         ctxCallouts.textAlign = txtalign;
         ctxCallouts.textBaseline = 'middle';
         //if(text.indexOf("<br>")) {console.log(text.indexOf("<br>"))};
         var words = text.split(' ');
         // if (calloutsRTL == true) {
         //     if (words.length == 1) {
         //         ctxCallouts.direction = 'ltr';
         //     } else {
         //         ctxCallouts.direction = 'rtl';
         //     }
         // }
         var line = '';
         //console.log(words)
         for (var n = 0; n < words.length; n++) {
            var testLine = line + words[n] + ' ';
            var metrics = ctxCallouts.measureText(testLine);
            var testWidth = metrics.width;
            if (testWidth > maxWidth && n > 0 || words[n] == '<br>') {
               if (words[n] == '<br>') words[n] = '';
               ctxCallouts.fillText(line,pt[0],pt[1]);

               if (words[n] != '<br>') {
                  line = words[n] + ' ';
               }
               pt[1] += lineHeight;
            } else {
               line = testLine;
            }
         }

         ctxCallouts.fillText(line,pt[0],pt[1]);

      }




      var canvasCallouts = null,
         ctxCallouts = null;
      // /*New HotSpot Assignment Functions End*/

      var userLang;
      var isUserLang = false;
      function getLangUrl() {
         //console.log("langUrl called");
         var queryString = window.location.href.split('?')[1];
         //console.log("queryString",queryString);
         if (queryString) {
            var params = queryString.split('&');
            for (var i = 0; i < params.length; i++) {
               if (params[i].toLowerCase().indexOf("locale=") >= 0) {
                  userLang = params[i].replace("locale=","");
                  isUserLang = true;
                  break;
               }
            }
            if (!isUserLang) {
               userLang = "EN";
            }
         } else {
            userLang = "EN";
         }
         setTimeout(getLangTranscript,1000)

      }

      var XMLHttpFactories = [
         function () {
            return new XMLHttpRequest()
         },
         function () {
            return new ActiveXObject("Msxml3.XMLHTTP")
         },
         function () {
            return new ActiveXObject("Msxml2.XMLHTTP.6.0")
         },
         function () {
            return new ActiveXObject("Msxml2.XMLHTTP.3.0")
         },
         function () {
            return new ActiveXObject("Msxml2.XMLHTTP")
         },
         function () {
            return new ActiveXObject("Microsoft.XMLHTTP")
         }
      ];
      function createXMLHTTPObject() {
         var xmlhttp = false;
         for (var i = 0; i < XMLHttpFactories.length; i++) {
            try {
               xmlhttp = XMLHttpFactories[i]();
            } catch (e) {
               continue;
            }
            break;
         }
         return xmlhttp;
      }
      var finalLangues;
      function getLangTranscript() {
         var xmlhttp = createXMLHTTPObject();
         // alert();
         // console.log("xmlhttp",xmlhttp);
         xmlhttp.onreadystatechange = function () {
            if (this.readyState == 4 && this.status == 200) {

               var ldata = JSON.parse(this.responseText);
               var splitLang = userLang.toLowerCase().split("-")[0];

               // console.log("ldata",ldata);
               // console.log("finalLangues called...",userLang.toLowerCase());
               for (var j = 0; j < ldata.config.length; j++) {
                  if (ldata.config[j].lang.toLowerCase() == userLang.toLowerCase()) {
                     finalLangues = ldata.config[j];
                     break;
                  }
                  // else if (ldata.config[j].lang.toLowerCase() == splitLang.toLowerCase()) {
                  //    finalLangues = ldata.config[j];
                  //    break;
                  // }
                  else {
                     finalLangues = ldata.config[0];
                  }
               }
               // console.log(finalLangues);
               window.checkgetLangTranscript(true);
               // console.log("finalLangues called...",userLang.toLowerCase())
               // if (!finalLangues) {
               //    console.log("false finallanguage");
               //     var splitLang = userLang.toLowerCase().split("-")[0];

               //     for (var k = 0; k < ldata.config.length; k++) {
               //         if (ldata.config[k].lang.toLowerCase() == splitLang.toLowerCase()) {
               //             finalLangues = ldata.config[k];
               //             break;
               //         }
               //     }
               // }

               if (finalLangues) {
                  //  alert();
                  window.document.getElementById("move_text").innerHTML = finalLangues.move;
                  window.document.getElementById("move_text_mob").innerHTML = finalLangues.move;
                  // // document.getElementById("mobmove").innerHTML = finalLangues.move;
                  document.getElementById("rotate_text").innerHTML = finalLangues.rotate;
                  document.getElementById("rotate_text_mob").innerHTML = finalLangues.rotate;
                  // // document.getElementById("mobRotate").innerHTML = finalLangues.rotate;
                  document.getElementById("zoom_text").innerHTML = finalLangues.zoom;
                  document.getElementById("zoom_text_mob").innerHTML = finalLangues.zoom;

                  // document.getElementById("mobZoom").innerHTML = finalLangues.zoom;

                  document.querySelector(".exploreBtnCls").innerHTML = finalLangues.exploreProductIn3D;
                  document.querySelector(".exploreBtnClsMob").innerHTML = finalLangues.exploreProductIn3D;


                  port1 = finalLangues.port1;
                  port2 = finalLangues.port2;
                  port3 = finalLangues.port3;
                  port4 = finalLangues.port4;
                  port5 = finalLangues.port5;
                  port50 = finalLangues.port50;
                  port6 = finalLangues.port6;
                  port7 = finalLangues.port7;
                  port8 = finalLangues.port8;
                  port9 = finalLangues.port9;
                  port10 = finalLangues.port10;
                  port11 = finalLangues.port11;
                  port12 = finalLangues.port12;
                  // port13 = finalLangues.port13;
                  port14 = finalLangues.port14;
                  port14_2 = finalLangues.port14_2;
                  port14_3 = finalLangues.port14_3;
                  port14_4 = finalLangues.port14_4;

                  port15 = finalLangues.port15;
                  port15_2 = finalLangues.port15_2;
                  port15_3 = finalLangues.port15_3;
                  port15_4 = finalLangues.port15_4;

                  port16 = finalLangues.port16
                  port17 = finalLangues.port17
                  port18 = finalLangues.port18
                  port19 = finalLangues.port19
                  port20 = finalLangues.port20
                  port21 = finalLangues.port21
                  port22 = finalLangues.port20
                  port24 = finalLangues.port24


                  if (userLang.toLowerCase() === "de" || finalLangues.lang.toLowerCase() === "it" || finalLangues.lang.toLowerCase() === "ro") {
                     setTimeout(function () {
                        document.querySelector("#mobHowToUseText").style.fontSize = '34px';
                     },0);

                  }
                  if (finalLangues.lang.toLowerCase() === "ru") {
                     setTimeout(function () {
                        document.querySelector("#mobHowToUseText").style.top = '-23%';

                     },0);


                  }
                  if (finalLangues.lang.toLowerCase() === "ro") {
                     setTimeout(function () {
                        document.querySelector("#mobHowToUseText").style.top = '-15%';

                     },0);
                  }


                  // if (userLang.toLowerCase() === "de") {
                  //    setTimeout(function () {
                  //       document.querySelector("#move_text_mob").style.width = '90px';
                  //       document.querySelector("#rotate_text_mob").style.width = '90px';
                  //       document.querySelector("#zoom_text_mob").style.width = '90px';
                  //    },0);
                  // }
               }
            }
         };
         xmlhttp.open("GET","locale.json",true);
         xmlhttp.send();

      }
      getLangUrl();

   </script>
   <style>
      /* #hotspot1demo {
         display: none !important;
      } */
   </style>
</head>

<body onload="InfinityRTStart();">
   <div id="mainload">
      <div class="loaderimg">
         <img src="./img/loader.jpg" alt="loader img" id="loadericon" />
      </div>
      <div id="Scalable">
         <div class="desktop">
            <div id="loading" tabindex="1">
               <!-- <input type="text" style="border:none" id="setFocus" /> -->
               <div tabindex="1" id="move"
                  aria-label="by swiping with two fingers on touchscreen or by clicking the right mouse button">
                  <span id="move_text"></span><br>
                  <img style="margin-top: 40px; height: 96px; width: 210px;" src="./img/move.svg" />
               </div>

               <div tabindex="1" id="rotate" style="margin: 0 137px;">
                  <span id="rotate_text"></span><br><img style="margin-top: 40px; height: 96px; width: 230px;"
                     src="./img/rotate.svg" />
               </div>
               <div tabindex="1" id="zoom"><span id="zoom_text"></span><br><img
                     style="margin-top: 40px; height: 96px; width: 210px;" src="./img/zoom.svg" id="zoom_img"
                     aria-label="by using two fingers to pinch and expand or by using the scroll wheel on the mouse" />
               </div>
               <div id="loader"
                  style="display: none; position:absolute; background: #ffffff; border: 1px; border-style: solid; border-color: #c1c1c1;">
                  <div id="loaderbar"
                     style="position:absolute; width:0px; height:5px; overflow:hidden; background: #0076CE;"></div>
               </div>
               <button tabindex="1" id="exploreButtton" class="exploreBtnCls"
                  aria-label="clickable Explore Product in 3D" onclick="exploreFun()">Explore Product in 3D
               </button></button>
            </div>
         </div>
         <div class="mobile">
            <div id="loading">
               <div>
                  <div id="mobMove" style="display: flex; justify-content: space-between; align-items: end;"><span
                        style="padding-right:43px;    margin-top: 70px;" id="move_text_mob"
                        style="position: relative;  top: -29px;"></span><img
                        style="margin-top: 44px;  height: 76px; width: 146px;" src="./img/move.svg" alt="movesIndex" />
                  </div>
                  <div id="mobRotate" style="display: flex; justify-content: space-between; align-items: end;"><span
                        style="padding-right:43px;    margin-top: 70px;" id="rotate_text_mob"
                        style="position: relative;  top: -29px;"></span><img
                        style="margin-top: 44px;  height: 76px; width: 146px;" src="./img/rotate.svg"
                        alt="rotateIndex" /></div>
                  <div id="mobZoom"
                     style="display: flex; justify-content: space-between; align-items: end; text-align: left;"><span
                        style="padding-right:43px;    margin-top: 70px;" id="zoom_text_mob"
                        style="position: relative;  top: -29px;"></span><img
                        style="margin-top: 44px; height: 76px; width: 146px;" src="./img/zoom.svg" alt="zoomIndex" />
                  </div>
                  <div id="loaders"
                     style="display: block; position:absolute; background: #ffffff; border: 1px; border-style: solid; border-color: #c1c1c1;height: 5px;left: 10px;">
                     <div id="loaderbar"
                        style="position:absolute; width:0px; height:5px; overflow:hidden; background: #0076CE;"></div>
                  </div>
                  <button id="exploreButtton" class="exploreBtnClsMob" onclick="exploreFunMob()" disabled><span
                        id="exploreButttonTextmob">Explore Product in 3D</span><img
                        style="height: 20px; width: 24px; padding-left: 12px;" src="./img/arrowIcon.png"
                        alt="ArrowIndex" /></button>

               </div>

            </div>
         </div>

      </div>
   </div>


   <div id='root' style="position: absolute;height: 100%;" data-camera='false'></div>

   <canvas id='infinityrt-canvas' style='border: none; ' width='100%' height='100%'></canvas>
   <canvas id='calloutcanvas' style="margin:0px;left:0px;top:0px;position:absolute;" width='100%'
      height='100%'></canvas>

   <div id="hotspot_container">
      <div class="hotspots" id="hotspot1demo" tabindex="-1"></div>
      <div class="hotspots" id="hotspot1" tabindex="-1"></div>
      <div class="hotspots" id="hotspot2" tabindex="-1"></div>

      <div class="hotspots" id="hotspot3" tabindex="-1"></div>


      <div class="hotspots" id="hotspot4" tabindex="-1"></div>

      <div class="hotspots" id="hotspot5" tabindex="-1"></div>

      <div class="hotspots" id="hotspot6" tabindex="-1"></div>

      <div class="hotspots" id="hotspot7" tabindex="-1"></div>

      <div class="hotspots" id="hotspot8" tabindex="-1"></div>
      <div class="hotspots" id="hotspot9" tabindex="-1"></div>
      <div class="hotspots" id="hotspot10" tabindex="-1"></div>



      <div class="hotspots" id="hotspot11" tabindex="-1"></div>

      <div class="hotspots" id="hotspot12" tabindex="-1"></div>

      <div class="hotspots" id="hotspot13" tabindex="-1"></div>

      <div class="hotspots" id="hotspot14" tabindex="-1"></div>

      <div class="hotspots" id="hotspot15" tabindex="-1"></div>

      <div class="hotspots" id="hotspot16" tabindex="-1"></div>

      <div class="hotspots" id="hotspot17" tabindex="-1"></div>

      <div class="hotspots" id="hotspot18" tabindex="-1"></div>

      <div class="hotspots" id="hotspot19" tabindex="-1"></div>

      <div class="hotspots" id="hotspot20" tabindex="-1"></div>

      <div class="hotspots" id="hotspot21" tabindex="-1"></div>

      <div class="hotspots" id="hotspot22" tabindex="-1"></div>

      <div class="hotspots" id="hotspot23" tabindex="-1"></div>

      <div class="hotspots" id="hotspot24" tabindex="-1"></div>

      <div class="hotspots" id="hotspot25" tabindex="-1"></div>

      <div class="hotspots" id="hotspot26" tabindex="-1"></div>

      <div class="hotspots" id="hotspot27" tabindex="-1"></div>
   </div>
   <div id="howTousePopup" style="display: none;"></div>

   <div id="footerControlDesk"
      style="display: block;position: absolute;bottom: 73px;left: 11px; z-index: 2;visibility: hidden;"></div>

   <div id="footerControMob" style="display: block; z-index: 2;visibility: hidden;"></div>
   <div id="footerControIpad" style="display: block;position: absolute;visibility:hidden;"></div>
   <div id="howTousePopupDesk" style="position: absolute;z-index: 99;" tabindex="-1;"></div>


</body>

</html>